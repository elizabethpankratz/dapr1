<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Handling categorical data | Data Analysis for Psychology in R 1</title>
  <meta name="description" content="This book contains the lab materials for DAPR-1 at UoE." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Handling categorical data | Data Analysis for Psychology in R 1" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book contains the lab materials for DAPR-1 at UoE." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Handling categorical data | Data Analysis for Psychology in R 1" />
  
  <meta name="twitter:description" content="This book contains the lab materials for DAPR-1 at UoE." />
  

<meta name="author" content="Department of Psychology, The University of Edinburgh" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chap-data-types.html"/>
<link rel="next" href="chap-numeric.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);
e.style.display = ((e.style.display!='none') ? 'none' : 'block');
if(f.classList.contains('fa-plus')) {
    f.classList.add('fa-minus')
    f.classList.remove('fa-plus')
} else {
    f.classList.add('fa-plus')
    f.classList.remove('fa-minus')
}
}
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><div style="margin-top:-13px; font-size: 25px; color: #0F4C81;"><left><b>DAPR1</b></left></div></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Course overview</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i>Course description</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#team"><i class="fa fa-check"></i>Team</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#textbook"><i class="fa fa-check"></i>Textbook</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html"><i class="fa fa-check"></i>Intro to R, Rstudio, and data in R</a><ul>
<li class="chapter" data-level="0.1" data-path="chap-intro.html"><a href="chap-intro.html#introducing-r-and-rstudio"><i class="fa fa-check"></i><b>0.1</b> Introducing R and Rstudio</a><ul>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#installing"><i class="fa fa-check"></i>Installing</a></li>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#first-look-at-rstudio"><i class="fa fa-check"></i>First look at Rstudio</a></li>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#r-as-a-calculator"><i class="fa fa-check"></i>R as a calculator</a></li>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#r-as-a-calculator-with-a-memory"><i class="fa fa-check"></i>R as a calculator with a memory</a></li>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#rscripts-and-rmarkdown"><i class="fa fa-check"></i>Rscripts and Rmarkdown</a></li>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#recap"><i class="fa fa-check"></i>Recap</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="chap-intro.html"><a href="chap-intro.html#take-a-breather"><i class="fa fa-check"></i><b>0.2</b> Take a breather</a></li>
<li class="chapter" data-level="0.3" data-path="chap-intro.html"><a href="chap-intro.html#starting-a-new-.rmd-document"><i class="fa fa-check"></i><b>0.3</b> Starting a new .Rmd document</a><ul>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#using-an-r-package"><i class="fa fa-check"></i>Using an R package</a></li>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#writing"><i class="fa fa-check"></i>Writing</a></li>
</ul></li>
<li class="chapter" data-level="0.4" data-path="chap-intro.html"><a href="chap-intro.html#data-in-r"><i class="fa fa-check"></i><b>0.4</b> Data in R</a><ul>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#storing-data-in-r-sequences-vectors-of-values"><i class="fa fa-check"></i>Storing data in R: Sequences (“Vectors”) of values</a></li>
<li class="chapter" data-level="" data-path="chap-intro.html"><a href="chap-intro.html#reading-data-into-r"><i class="fa fa-check"></i>Reading data into R</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="chap-intro.html"><a href="chap-intro.html#compiling-a-.rmd-document"><i class="fa fa-check"></i><b>0.5</b> Compiling a .Rmd document</a></li>
<li class="chapter" data-level="0.6" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>0.6</b> Glossary</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap-data-types.html"><a href="chap-data-types.html"><i class="fa fa-check"></i><b>1</b> Types of data</a><ul>
<li class="chapter" data-level="1.1" data-path="chap-data-types.html"><a href="chap-data-types.html#accessing-subsections-of-data"><i class="fa fa-check"></i><b>1.1</b> Accessing subsections of data</a><ul>
<li class="chapter" data-level="" data-path="chap-data-types.html"><a href="chap-data-types.html#accessing-by-a-condition"><i class="fa fa-check"></i>Accessing by a condition</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="chap-data-types.html"><a href="chap-data-types.html#editing-subsections-of-data"><i class="fa fa-check"></i><b>1.2</b> Editing subsections of data</a><ul>
<li class="chapter" data-level="" data-path="chap-data-types.html"><a href="chap-data-types.html#changing-specific-entries"><i class="fa fa-check"></i>Changing specific entries</a></li>
<li class="chapter" data-level="" data-path="chap-data-types.html"><a href="chap-data-types.html#changing-entries-by-a-condition"><i class="fa fa-check"></i>Changing entries by a condition</a></li>
<li class="chapter" data-level="" data-path="chap-data-types.html"><a href="chap-data-types.html#changing-a-variable"><i class="fa fa-check"></i>Changing a variable</a></li>
<li class="chapter" data-level="" data-path="chap-data-types.html"><a href="chap-data-types.html#removing-rows-or-columns"><i class="fa fa-check"></i>Removing rows or columns</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="chap-data-types.html"><a href="chap-data-types.html#different-types-of-data"><i class="fa fa-check"></i><b>1.3</b> Different types of data</a></li>
<li class="chapter" data-level="1.4" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>1.4</b> Glossary</a></li>
<li class="chapter" data-level="1.5" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>1.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chap-categorical.html"><a href="chap-categorical.html"><i class="fa fa-check"></i><b>2</b> Handling categorical data</a><ul>
<li class="chapter" data-level="2.1" data-path="chap-categorical.html"><a href="chap-categorical.html#data-exploration"><i class="fa fa-check"></i><b>2.1</b> Data Exploration</a></li>
<li class="chapter" data-level="2.2" data-path="chap-categorical.html"><a href="chap-categorical.html#unordered-categorical-nominal-data"><i class="fa fa-check"></i><b>2.2</b> Unordered Categorical (Nominal) Data</a><ul>
<li class="chapter" data-level="" data-path="chap-categorical.html"><a href="chap-categorical.html#frequency-table"><i class="fa fa-check"></i>Frequency table</a></li>
<li class="chapter" data-level="" data-path="chap-categorical.html"><a href="chap-categorical.html#central-tendency"><i class="fa fa-check"></i>Central tendency</a></li>
<li class="chapter" data-level="" data-path="chap-categorical.html"><a href="chap-categorical.html#relative-frequencies"><i class="fa fa-check"></i>Relative frequencies</a></li>
<li class="chapter" data-level="" data-path="chap-categorical.html"><a href="chap-categorical.html#visualising"><i class="fa fa-check"></i>Visualising</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="chap-categorical.html"><a href="chap-categorical.html#ordered-categorical-ordinal-data"><i class="fa fa-check"></i><b>2.3</b> Ordered Categorical (Ordinal) Data</a><ul>
<li class="chapter" data-level="" data-path="chap-categorical.html"><a href="chap-categorical.html#frequency-table-1"><i class="fa fa-check"></i>Frequency table</a></li>
<li class="chapter" data-level="" data-path="chap-categorical.html"><a href="chap-categorical.html#central-tendency-1"><i class="fa fa-check"></i>Central tendency</a></li>
<li class="chapter" data-level="" data-path="chap-categorical.html"><a href="chap-categorical.html#cumulative-percentages-quartiles"><i class="fa fa-check"></i>Cumulative percentages, Quartiles</a></li>
<li class="chapter" data-level="" data-path="chap-categorical.html"><a href="chap-categorical.html#visualising-1"><i class="fa fa-check"></i>Visualising</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>2.4</b> Glossary</a></li>
<li class="chapter" data-level="2.5" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap-numeric.html"><a href="chap-numeric.html"><i class="fa fa-check"></i><b>3</b> Handling numeric data</a><ul>
<li class="chapter" data-level="3.1" data-path="chap-categorical.html"><a href="chap-categorical.html#central-tendency"><i class="fa fa-check"></i><b>3.1</b> Central tendency</a><ul>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#mode-and-median-revisited"><i class="fa fa-check"></i>Mode and median revisited</a></li>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#mean"><i class="fa fa-check"></i>Mean</a></li>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#summarising-variables"><i class="fa fa-check"></i>Summarising variables</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="chap-numeric.html"><a href="chap-numeric.html#spread"><i class="fa fa-check"></i><b>3.2</b> Spread</a><ul>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#interquartile-range"><i class="fa fa-check"></i>Interquartile range</a></li>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#variance"><i class="fa fa-check"></i>Variance</a></li>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#standard-deviation"><i class="fa fa-check"></i>Standard deviation</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="chap-categorical.html"><a href="chap-categorical.html#visualising"><i class="fa fa-check"></i><b>3.3</b> Visualising</a><ul>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#boxplots"><i class="fa fa-check"></i>Boxplots</a></li>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#histograms"><i class="fa fa-check"></i>Histograms</a></li>
<li class="chapter" data-level="" data-path="chap-numeric.html"><a href="chap-numeric.html#density-curves"><i class="fa fa-check"></i>Density curves</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="chap-numeric.html"><a href="chap-numeric.html#skew"><i class="fa fa-check"></i><b>3.4</b> Skew</a></li>
<li class="chapter" data-level="3.5" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>3.5</b> Glossary</a></li>
<li class="chapter" data-level="3.6" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chap-relationships.html"><a href="chap-relationships.html"><i class="fa fa-check"></i><b>4</b> Visualising and describing relationships</a><ul>
<li class="chapter" data-level="4.1" data-path="chap-relationships.html"><a href="chap-relationships.html#outcome-vs-explanatory"><i class="fa fa-check"></i><b>4.1</b> Outcome vs Explanatory</a></li>
<li class="chapter" data-level="4.2" data-path="chap-relationships.html"><a href="chap-relationships.html#numeric-and-categorical"><i class="fa fa-check"></i><b>4.2</b> Numeric and Categorical</a><ul>
<li class="chapter" data-level="" data-path="chap-relationships.html"><a href="chap-relationships.html#visualising---colours"><i class="fa fa-check"></i>Visualising - Colours</a></li>
<li class="chapter" data-level="" data-path="chap-relationships.html"><a href="chap-relationships.html#visualising---facets"><i class="fa fa-check"></i>Visualising - Facets</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chap-relationships.html"><a href="chap-relationships.html#numeric-and-numeric"><i class="fa fa-check"></i><b>4.3</b> Numeric and Numeric</a><ul>
<li class="chapter" data-level="" data-path="chap-relationships.html"><a href="chap-relationships.html#covariance"><i class="fa fa-check"></i>Covariance</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>4.4</b> Glossary</a></li>
<li class="chapter" data-level="4.5" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap-functions.html"><a href="chap-functions.html"><i class="fa fa-check"></i><b>5</b> Types of relationships (functions)</a><ul>
<li class="chapter" data-level="5.1" data-path="chap-functions.html"><a href="chap-functions.html#functions"><i class="fa fa-check"></i><b>5.1</b> Functions</a><ul>
<li class="chapter" data-level="" data-path="chap-functions.html"><a href="chap-functions.html#linear-functions"><i class="fa fa-check"></i>Linear functions</a></li>
<li class="chapter" data-level="" data-path="chap-functions.html"><a href="chap-functions.html#non-linear-functions"><i class="fa fa-check"></i>Non-linear functions</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="chap-functions.html"><a href="chap-functions.html#transformations"><i class="fa fa-check"></i><b>5.2</b> Transformations</a></li>
<li class="chapter" data-level="5.3" data-path="chap-functions.html"><a href="chap-functions.html#centering-and-standardisation"><i class="fa fa-check"></i><b>5.3</b> Centering and Standardisation</a></li>
<li class="chapter" data-level="5.4" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>5.4</b> Glossary</a></li>
<li class="chapter" data-level="5.5" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>5.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html"><i class="fa fa-check"></i><b>6</b> Basics of probability theory</a><ul>
<li class="chapter" data-level="" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#where-are-we-going-to"><i class="fa fa-check"></i>Where are we going to?</a></li>
<li class="chapter" data-level="6.1" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section"><i class="fa fa-check"></i><b>6.1</b> Section</a></li>
<li class="chapter" data-level="6.2" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section-1"><i class="fa fa-check"></i><b>6.2</b> Section</a></li>
<li class="chapter" data-level="6.3" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>6.3</b> Glossary</a></li>
<li class="chapter" data-level="6.4" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>6.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chap-probability-rules.html"><a href="chap-probability-rules.html"><i class="fa fa-check"></i><b>7</b> Probability rules</a><ul>
<li class="chapter" data-level="7.1" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section"><i class="fa fa-check"></i><b>7.1</b> Section</a></li>
<li class="chapter" data-level="7.2" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section-1"><i class="fa fa-check"></i><b>7.2</b> Section</a></li>
<li class="chapter" data-level="7.3" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>7.3</b> Glossary</a></li>
<li class="chapter" data-level="7.4" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>7.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chap-discrete-distributions.html"><a href="chap-discrete-distributions.html"><i class="fa fa-check"></i><b>8</b> Random variables &amp; distributions (discrete)</a><ul>
<li class="chapter" data-level="8.1" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section"><i class="fa fa-check"></i><b>8.1</b> Section</a></li>
<li class="chapter" data-level="8.2" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section-1"><i class="fa fa-check"></i><b>8.2</b> Section</a></li>
<li class="chapter" data-level="8.3" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>8.3</b> Glossary</a></li>
<li class="chapter" data-level="8.4" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>8.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chap-continuous-distributions.html"><a href="chap-continuous-distributions.html"><i class="fa fa-check"></i><b>9</b> Random variables and distributions (continuous)</a><ul>
<li class="chapter" data-level="9.1" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section"><i class="fa fa-check"></i><b>9.1</b> Section</a></li>
<li class="chapter" data-level="9.2" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section-1"><i class="fa fa-check"></i><b>9.2</b> Section</a></li>
<li class="chapter" data-level="9.3" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>9.3</b> Glossary</a></li>
<li class="chapter" data-level="9.4" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>9.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chap-sampling.html"><a href="chap-sampling.html"><i class="fa fa-check"></i><b>10</b> Sampling variability and sampling distributions</a><ul>
<li class="chapter" data-level="10.1" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section"><i class="fa fa-check"></i><b>10.1</b> Section</a></li>
<li class="chapter" data-level="10.2" data-path="chap-probability-theory.html"><a href="chap-probability-theory.html#section-1"><i class="fa fa-check"></i><b>10.2</b> Section</a></li>
<li class="chapter" data-level="10.3" data-path="chap-intro.html"><a href="chap-intro.html#glossary"><i class="fa fa-check"></i><b>10.3</b> Glossary</a></li>
<li class="chapter" data-level="10.4" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises"><i class="fa fa-check"></i><b>10.4</b> Exercises</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.handbooks.psy.ed.ac.uk/psychology-1a-and-1b/dapr1" target="blank">Psychology Handbooks</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis for Psychology in R 1</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap-categorical" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Handling categorical data</h1>
<div class="lo">
<p><strong>LEARNING OBJECTIVES</strong></p>
<ul>
<li>LO1: Understand the appropriate visualization for categorical data.</li>
<li>LO2: Understand methods to calculate the spread of categorical data.</li>
<li>LO3: Understand methods to calculate central tendency for categorical data</li>
</ul>
</div>
<p>Before we get started on the statistics, we’re going to briefly introduce a crucial bit of R code.</p>
<div class="optional-begin">
IMPORTANT READING: A different style of R code. Click the plus to expand →<span id="opt-start-123" class="fa fa-plus optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-123&#39;, &#39;opt-start-123&#39;)"></span>
</div>
<div id="opt-body-123" class="optional-body" style="display: none;">
<p>In previous chapters, we have seen code such as:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="chap-categorical.html#cb123-1"></a><span class="co"># show the dimensions of the data</span></span>
<span id="cb123-2"><a href="chap-categorical.html#cb123-2"></a><span class="kw">dim</span>(somedata)</span>
<span id="cb123-3"><a href="chap-categorical.html#cb123-3"></a></span>
<span id="cb123-4"><a href="chap-categorical.html#cb123-4"></a><span class="co"># show a summary of the data</span></span>
<span id="cb123-5"><a href="chap-categorical.html#cb123-5"></a><span class="kw">summary</span>(somedata)</span>
<span id="cb123-6"><a href="chap-categorical.html#cb123-6"></a></span>
<span id="cb123-7"><a href="chap-categorical.html#cb123-7"></a><span class="co"># factorise and show the &quot;somevariable&quot; variable in the &quot;somedata&quot; dataframe </span></span>
<span id="cb123-8"><a href="chap-categorical.html#cb123-8"></a><span class="kw">as.factor</span>(somedata<span class="op">$</span>somevariable)</span></code></pre></div>
<p>We can actually wrap functions inside functions:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="chap-categorical.html#cb124-1"></a><span class="co"># factorise the &quot;somevariable&quot; variable in the &quot;somedata&quot; dataframe, </span></span>
<span id="cb124-2"><a href="chap-categorical.html#cb124-2"></a><span class="co"># then show a summary of it</span></span>
<span id="cb124-3"><a href="chap-categorical.html#cb124-3"></a><span class="kw">summary</span>(<span class="kw">as.factor</span>(somedata<span class="op">$</span>somevariable))</span></code></pre></div>
<div class="yellow">
<p><strong>R evaluates code from the inside-out!</strong></p>
<p>You can end up with functions inside functions inside functions …</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="chap-categorical.html#cb125-1"></a><span class="co"># Don&#39;t worry about what all these functions do, </span></span>
<span id="cb125-2"><a href="chap-categorical.html#cb125-2"></a><span class="co"># it&#39;s just an example -</span></span>
<span id="cb125-3"><a href="chap-categorical.html#cb125-3"></a><span class="kw">round</span>(<span class="kw">mean</span>(<span class="kw">log</span>(<span class="kw">cumsum</span>(<span class="kw">diff</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)))))</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
</div>
<p>We can write in a different style, however, and this may help to keep code tidy and easily readable - we can write <strong>sequentially</strong>:</p>
<p><img src="images/categorical/pipes.png" /></p>
<p>Notice that what we are doing is using a new symbol: <code>%&gt;%</code><br />
This symbol takes the output of whatever is on it’s left-hand side, and uses it as an <em>input</em> for whatever is on the right-hand side. The <code>%&gt;%</code> symbol gets called a “pipe”.</p>
<p>Let’s see it in action with the starwars2 dataset from the previous chapter. First we need to load the tidyverse packages, because that is where <code>%&gt;%</code> is found.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="chap-categorical.html#cb127-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb127-2"><a href="chap-categorical.html#cb127-2"></a></span>
<span id="cb127-3"><a href="chap-categorical.html#cb127-3"></a>starwars2 <span class="op">%&gt;%</span></span>
<span id="cb127-4"><a href="chap-categorical.html#cb127-4"></a><span class="st">    </span><span class="kw">summary</span>()</span></code></pre></div>
<pre><code>##      name               height       hair_color         eye_color        
##  Length:75          Min.   : 79.0   Length:75          Length:75         
##  Class :character   1st Qu.:167.5   Class :character   Class :character  
##  Mode  :character   Median :180.0   Mode  :character   Mode  :character  
##                     Mean   :176.1                                        
##                     3rd Qu.:191.0                                        
##                     Max.   :264.0                                        
##   homeworld           species         
##  Length:75          Length:75         
##  Class :character   Class :character  
##  Mode  :character   Mode  :character  
##                                       
##                                       
## </code></pre>
<p>We can now write code that requires reading it from the inside-out:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="chap-categorical.html#cb129-1"></a><span class="kw">summary</span>(<span class="kw">as.factor</span>(starwars2<span class="op">$</span>homeworld))</span></code></pre></div>
<p>or which requires reading it from left to right:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="chap-categorical.html#cb130-1"></a>starwars2<span class="op">$</span>homeworld <span class="op">%&gt;%</span></span>
<span id="cb130-2"><a href="chap-categorical.html#cb130-2"></a><span class="st">    </span><span class="kw">as.factor</span>() <span class="op">%&gt;%</span></span>
<span id="cb130-3"><a href="chap-categorical.html#cb130-3"></a><span class="st">    </span><span class="kw">summary</span>()</span></code></pre></div>
<pre><code>##       Alderaan    Aleen Minor         Bespin     Bestine IV Cato Neimoidia          Cerea 
##              3              1              1              1              1              1 
##       Champala      Chandrila   Concord Dawn       Corellia      Coruscant       Dathomir 
##              1              1              1              2              3              1 
##          Dorin          Endor         Eriadu       Geonosis    Glee Anselm     Haruun Kal 
##              1              1              1              1              1              1 
##        Iktotch       Iridonia          Kalee         Kamino       Kashyyyk      Malastare 
##              1              1              1              3              2              1 
##         Mirial       Mon Cala     Muunilinst          Naboo      Nal Hutta           Ojom 
##              2              1              1              8              1              1 
##        Quermia          Rodia         Ryloth        Serenno          Shili          Skako 
##              1              1              2              1              1              1 
##        Socorro    Springfield        Stewjon        Sullust       Tatooine       Toydaria 
##              1              2              1              1             10              1 
##      Trandosha        Troiken           Tund         Utapau        Vulpter          Zolan 
##              1              1              1              1              1              1</code></pre>
<p>And that long line of code from above:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="chap-categorical.html#cb132-1"></a><span class="co"># again, don&#39;t worry about all these functions, </span></span>
<span id="cb132-2"><a href="chap-categorical.html#cb132-2"></a><span class="co"># just notice the difference in the two styles.</span></span>
<span id="cb132-3"><a href="chap-categorical.html#cb132-3"></a><span class="kw">round</span>(<span class="kw">mean</span>(<span class="kw">log</span>(<span class="kw">cumsum</span>(<span class="kw">diff</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)))))</span></code></pre></div>
<p>becomes:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="chap-categorical.html#cb133-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">%&gt;%</span></span>
<span id="cb133-2"><a href="chap-categorical.html#cb133-2"></a><span class="st">    </span><span class="kw">diff</span>() <span class="op">%&gt;%</span></span>
<span id="cb133-3"><a href="chap-categorical.html#cb133-3"></a><span class="st">    </span><span class="kw">cumsum</span>() <span class="op">%&gt;%</span></span>
<span id="cb133-4"><a href="chap-categorical.html#cb133-4"></a><span class="st">    </span><span class="kw">log</span>() <span class="op">%&gt;%</span></span>
<span id="cb133-5"><a href="chap-categorical.html#cb133-5"></a><span class="st">    </span><span class="kw">mean</span>() <span class="op">%&gt;%</span></span>
<span id="cb133-6"><a href="chap-categorical.html#cb133-6"></a><span class="st">    </span><span class="kw">round</span>()</span></code></pre></div>
<p><br>
We’re going to use this way of writing a lot throughout the course, and it pairs really well with a group of functions in the <strong>tidyverse</strong> packages, which were designed to be used in conjunction with <code>%&gt;%</code>, a couple of which you will learn about in this chapter.</p>
</div>
<p class="optional-end">
</p>
<div id="data-exploration" class="section level2">
<h2><span class="header-section-number">2.1</span> Data Exploration</h2>
<p>Once we have collected some data, one of the first things we want to do is explore it - and we can do this through describing (or summarising) and visualising variables.</p>
<p>We saw in the previous chapter the function <code>summary()</code>, which provided high-level information about our data, showing us things such as the minimum and maximum and mean of continuous variables, or the numbers of entries falling into each possible response level for a categorical variable:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="chap-categorical.html#cb134-1"></a><span class="kw">summary</span>(starwars2)</span></code></pre></div>
<pre><code>##      name               height       hair_color         eye_color        
##  Length:75          Min.   : 79.0   Length:75          Length:75         
##  Class :character   1st Qu.:167.5   Class :character   Class :character  
##  Mode  :character   Median :180.0   Mode  :character   Mode  :character  
##                     Mean   :176.1                                        
##                     3rd Qu.:191.0                                        
##                     Max.   :264.0                                        
##   homeworld           species         
##  Length:75          Length:75         
##  Class :character   Class :character  
##  Mode  :character   Mode  :character  
##                                       
##                                       
## </code></pre>
<p>What we are doing here is providing numeric descriptions of the <strong>distributions</strong> of values in each variable.</p>
<div class="yellow">
<p><strong>Distribution</strong></p>
<p>The distribution of a variable shows how often different values occur. In this chapter, we’re going to focus on describing and visualising distributions of categorical data.</p>
<p>The graph showing the distribution of a variable shows us where the values are centred, how the values vary, and gives some information about where a typical value might fall. It can also alert you to the presence of outliers (unexpected observations).</p>
</div>
</div>
<div id="unordered-categorical-nominal-data" class="section level2">
<h2><span class="header-section-number">2.2</span> Unordered Categorical (Nominal) Data</h2>
<p>For variables with a discrete number of response options, we can easily measure “how often” values occur in terms of their <strong>frequency</strong>.</p>
<div class="yellow">
<p><strong>Frequency distribution</strong></p>
<p>A frequency distribution is an overview of all distinct values in some variable and the <strong>number of times</strong> they occur.</p>
</div>
<p>Supposing that we have surveyed the people working in a psychology department and asked them what sub-discipline of psychological research they most strongly identify as working within (If you would like to work along with the reading, the data is available at <a href="https://uoepsy.github.io/data/dapr1/psych_survey.csv" class="uri">https://uoepsy.github.io/data/dapr1/psych_survey.csv</a>).<br />
<br>
First, we read our data in to R and store it in an object called “psych_disciplines”:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="chap-categorical.html#cb136-1"></a>psych_disciplines &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://uoepsy.github.io/data/dapr1/psych_survey.csv&quot;</span>)</span>
<span id="cb136-2"><a href="chap-categorical.html#cb136-2"></a>psych_disciplines</span></code></pre></div>
<pre><code>## # A tibble: 74 x 2
##    participant   area                  
##    &lt;chr&gt;         &lt;chr&gt;                 
##  1 respondent_1  Differential          
##  2 respondent_2  Social                
##  3 respondent_3  Differential          
##  4 respondent_4  Social                
##  5 respondent_5  Differential          
##  6 respondent_6  Differential          
##  7 respondent_7  Language              
##  8 respondent_8  Language              
##  9 respondent_9  Cognitive Neuroscience
## 10 respondent_10 Language              
## # … with 64 more rows</code></pre>
<p>We can get the frequencies of different response levels of the <em>discipline</em> variable by using the following code:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="chap-categorical.html#cb138-1"></a><span class="co"># start with the psych_disciplines dataframe </span></span>
<span id="cb138-2"><a href="chap-categorical.html#cb138-2"></a><span class="co"># %&gt;%</span></span>
<span id="cb138-3"><a href="chap-categorical.html#cb138-3"></a><span class="co"># count() the values in the &quot;area&quot; variable </span></span>
<span id="cb138-4"><a href="chap-categorical.html#cb138-4"></a>psych_disciplines <span class="op">%&gt;%</span></span>
<span id="cb138-5"><a href="chap-categorical.html#cb138-5"></a><span class="st">    </span><span class="kw">count</span>(area)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   area                       n
##   &lt;chr&gt;                  &lt;int&gt;
## 1 Cognitive Neuroscience    24
## 2 Developmental             10
## 3 Differential              20
## 4 Language                   9
## 5 Social                    11</code></pre>
<div class="optional-begin">
Extra detail on how this works<span id="opt-start-124" class="fa fa-plus optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-124&#39;, &#39;opt-start-124&#39;)"></span>
</div>
<div id="opt-body-124" class="optional-body" style="display: none;">
<p>In the code above, R knows to look for the <em>area</em> variable inside the psych_disciplines data because we used <code>%&gt;%</code> to “pipe” in the psych_disciplines dataframe.<br />
We could have also done:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="chap-categorical.html#cb140-1"></a><span class="co"># count(data, variable)</span></span>
<span id="cb140-2"><a href="chap-categorical.html#cb140-2"></a><span class="kw">count</span>(psych_disciplines, area)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   area                       n
##   &lt;chr&gt;                  &lt;int&gt;
## 1 Cognitive Neuroscience    24
## 2 Developmental             10
## 3 Differential              20
## 4 Language                   9
## 5 Social                    11</code></pre>
<p>But this would not work:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="chap-categorical.html#cb142-1"></a><span class="kw">count</span>(area)</span></code></pre></div>
<p style="color:red">
Error in group_vars(x) : object ‘area’ not found
</p>
</div>
<p class="optional-end">
</p>
<div id="frequency-table" class="section level3 unnumbered">
<h3>Frequency table</h3>
<p>To describe a distribution like this, we can simply provide the frequency table.<br />
Let’s store it as an object in R:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="chap-categorical.html#cb143-1"></a><span class="co"># make a new object called &quot;freq_table&quot;, and assign it:</span></span>
<span id="cb143-2"><a href="chap-categorical.html#cb143-2"></a><span class="co"># the counts of values of &quot;area&quot; variable in </span></span>
<span id="cb143-3"><a href="chap-categorical.html#cb143-3"></a><span class="co"># the psych_discipline dataframe.</span></span>
<span id="cb143-4"><a href="chap-categorical.html#cb143-4"></a>freq_table &lt;-<span class="st"> </span></span>
<span id="cb143-5"><a href="chap-categorical.html#cb143-5"></a><span class="st">    </span>psych_disciplines <span class="op">%&gt;%</span></span>
<span id="cb143-6"><a href="chap-categorical.html#cb143-6"></a><span class="st">    </span><span class="kw">count</span>(area)</span>
<span id="cb143-7"><a href="chap-categorical.html#cb143-7"></a></span>
<span id="cb143-8"><a href="chap-categorical.html#cb143-8"></a><span class="co"># show the object called &quot;freq_table&quot;</span></span>
<span id="cb143-9"><a href="chap-categorical.html#cb143-9"></a>freq_table</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   area                       n
##   &lt;chr&gt;                  &lt;int&gt;
## 1 Cognitive Neuroscience    24
## 2 Developmental             10
## 3 Differential              20
## 4 Language                   9
## 5 Social                    11</code></pre>
<p>For a report, we might want to make it a little more easily readable:</p>
</div>
<div id="central-tendency" class="section level3 unnumbered">
<h3>Central tendency</h3>
<p>Often, we might want to summarise data into a single summary value, reflecting the point at (or around) which most of the values tend to cluster. This is known as a measure of <strong>central tendency.</strong> For numeric data, we can use measures such as the mean, which you will likely have heard of. For nominal data (unordered categorical data), however, our only option is to use the <strong>mode</strong>.</p>
<div class="yellow">
<p><strong>Mode</strong></p>
<p>The most frequent value (the value that occurs the greatest number of times).</p>
</div>
<p>In our case, the mode is the “Cognitive Neuroscience” category.</p>
</div>
<div id="relative-frequencies" class="section level3 unnumbered">
<h3>Relative frequencies</h3>
<p>We might alternatively want to show the <em>percentage</em> of respondents in each category, rather than the raw frequencies.<br />
The percentages show the <strong>relative frequency distribution</strong></p>
<div class="yellow">
<p><strong>Relative frequency distribution</strong></p>
<p>A relative frequency distribution shows the <strong>proportion of times</strong> each value occurs<br />
(contrast this with the frequency distribution which shows the <strong>number</strong> of times).<br />
Relative frequencies can be written as fractions, percents, or decimals.</p>
</div>
<p>In the object “freq_table”, we have a variable called <em>n</em>, which is the frequencies (the number in each category).<br />
The total of this column is equal to the total number of respondents:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="chap-categorical.html#cb145-1"></a><span class="co"># sum all the values in the &quot;n&quot; variable in the &quot;freq_table&quot; object</span></span>
<span id="cb145-2"><a href="chap-categorical.html#cb145-2"></a><span class="kw">sum</span>(freq_table<span class="op">$</span>n)</span></code></pre></div>
<pre><code>## [1] 74</code></pre>
<p>And therefore, each value in <code>freq_table$n</code>, divided by the total, is equal to the proportion in each category:<br />
( <strong>Tip:</strong> Proportions are percentages/100. So 0.4 is another way of expressing 40%)</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="chap-categorical.html#cb147-1"></a><span class="co"># take the values in the &quot;n&quot; variable from the &quot;freq_table&quot; object, </span></span>
<span id="cb147-2"><a href="chap-categorical.html#cb147-2"></a><span class="co"># and divide by the sum of all the values in the &quot;n&quot; variable in &quot;freq_table&quot;</span></span>
<span id="cb147-3"><a href="chap-categorical.html#cb147-3"></a>freq_table<span class="op">$</span>n<span class="op">/</span><span class="kw">sum</span>(freq_table<span class="op">$</span>n)</span></code></pre></div>
<pre><code>## [1] 0.3243243 0.1351351 0.2702703 0.1216216 0.1486486</code></pre>
<p>We can then simply add the proportions as a new column to our table of frequencies by assigning the values we just calculated to a new variable:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="chap-categorical.html#cb149-1"></a><span class="co"># the variable &quot;prop&quot; in the &quot;freq_table&quot; object is now assigned </span></span>
<span id="cb149-2"><a href="chap-categorical.html#cb149-2"></a><span class="co"># the values we calculated above (the proportions)</span></span>
<span id="cb149-3"><a href="chap-categorical.html#cb149-3"></a>freq_table<span class="op">$</span>prop &lt;-<span class="st"> </span>freq_table<span class="op">$</span>n<span class="op">/</span><span class="kw">sum</span>(freq_table<span class="op">$</span>n)</span>
<span id="cb149-4"><a href="chap-categorical.html#cb149-4"></a></span>
<span id="cb149-5"><a href="chap-categorical.html#cb149-5"></a><span class="co"># print the &quot;freq_table&quot; object</span></span>
<span id="cb149-6"><a href="chap-categorical.html#cb149-6"></a>freq_table</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   area                       n  prop
##   &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt;
## 1 Cognitive Neuroscience    24 0.324
## 2 Developmental             10 0.135
## 3 Differential              20 0.270
## 4 Language                   9 0.122
## 5 Social                    11 0.149</code></pre>
<p><br>
However, we can also do this within a sequence of pipes (<code>%&gt;%</code>). To do so, we use a new function called <code>mutate()</code>.</p>
<div class="yellow">
<p><strong>mutate()</strong></p>
<p>The <code>mutate()</code> function is used to add or modify variables to data.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="chap-categorical.html#cb151-1"></a><span class="co"># take the data</span></span>
<span id="cb151-2"><a href="chap-categorical.html#cb151-2"></a><span class="co"># %&gt;%</span></span>
<span id="cb151-3"><a href="chap-categorical.html#cb151-3"></a><span class="co"># mutate it, such that there is a variable called &quot;newvariable&quot;, which</span></span>
<span id="cb151-4"><a href="chap-categorical.html#cb151-4"></a><span class="co"># has the values of a variable called &quot;oldvariable&quot; multiplied by two.</span></span>
<span id="cb151-5"><a href="chap-categorical.html#cb151-5"></a>data <span class="op">%&gt;%</span></span>
<span id="cb151-6"><a href="chap-categorical.html#cb151-6"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb151-7"><a href="chap-categorical.html#cb151-7"></a>    <span class="dt">newvariable =</span> oldvariable <span class="op">*</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb151-8"><a href="chap-categorical.html#cb151-8"></a>  )</span></code></pre></div>
<p><strong>Note:</strong> Inside <code>mutate()</code>, we don’t have to keep using the dollar sign <code>$</code>, as we have already told it what data to look for variables in.</p>
</div>
<p>We can actually <em>add this step to our earlier code:</em></p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="chap-categorical.html#cb152-1"></a><span class="co"># make a new object called &quot;freq_table&quot;, and assign it:</span></span>
<span id="cb152-2"><a href="chap-categorical.html#cb152-2"></a><span class="co"># the counts of values of &quot;area&quot; variable in </span></span>
<span id="cb152-3"><a href="chap-categorical.html#cb152-3"></a><span class="co"># the psych_discipline dataframe.</span></span>
<span id="cb152-4"><a href="chap-categorical.html#cb152-4"></a><span class="co"># from there, &#39;mutate&#39; such that there is a variable called &quot;prop&quot; which</span></span>
<span id="cb152-5"><a href="chap-categorical.html#cb152-5"></a><span class="co"># has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable.</span></span>
<span id="cb152-6"><a href="chap-categorical.html#cb152-6"></a>freq_table &lt;-<span class="st"> </span></span>
<span id="cb152-7"><a href="chap-categorical.html#cb152-7"></a><span class="st">  </span>psych_disciplines <span class="op">%&gt;%</span></span>
<span id="cb152-8"><a href="chap-categorical.html#cb152-8"></a><span class="st">  </span><span class="kw">count</span>(area) <span class="op">%&gt;%</span></span>
<span id="cb152-9"><a href="chap-categorical.html#cb152-9"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb152-10"><a href="chap-categorical.html#cb152-10"></a>    <span class="dt">prop =</span> n<span class="op">/</span><span class="kw">sum</span>(n)</span>
<span id="cb152-11"><a href="chap-categorical.html#cb152-11"></a>  )</span>
<span id="cb152-12"><a href="chap-categorical.html#cb152-12"></a></span>
<span id="cb152-13"><a href="chap-categorical.html#cb152-13"></a><span class="co"># show the object called &quot;freq_table&quot;</span></span>
<span id="cb152-14"><a href="chap-categorical.html#cb152-14"></a>freq_table</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   area                       n  prop
##   &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt;
## 1 Cognitive Neuroscience    24 0.324
## 2 Developmental             10 0.135
## 3 Differential              20 0.270
## 4 Language                   9 0.122
## 5 Social                    11 0.149</code></pre>
</div>
<div id="visualising" class="section level3 unnumbered">
<h3>Visualising</h3>
<div class="frame">
<p><em>“By visualizing information, we turn it into a landscape that you can explore with your eyes. A sort of information map. And when you’re lost in information, an information map is kind of useful.”</em> – <a href="https://informationisbeautiful.net/">David McCandless</a></p>
</div>
<p>We’re going to now make our first steps into the world of data visualisation. R is an incredibly capable language for creating visualisations of almost any kind. It is used by many media companies (e.g., the BBC), and has the capability of producing 3d visualisations, animations, interactive graphs, and more.</p>
<p>We are going to use the most popular R package for visualisation, <strong>ggplot2</strong>. This is actually part of the <strong>tidyverse</strong>, so if we have an Rmarkdown document and have loaded the <strong>tidyverse</strong> packages at the start (by using <code>library(tidyverse)</code>), then <strong>ggplot2</strong> will be loaded too).</p>
<p>Recall our <strong>frequency distribution table:</strong></p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="chap-categorical.html#cb154-1"></a><span class="co"># show the object called &quot;freq_table&quot;</span></span>
<span id="cb154-2"><a href="chap-categorical.html#cb154-2"></a>freq_table</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   area                       n  prop
##   &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt;
## 1 Cognitive Neuroscience    24 0.324
## 2 Developmental             10 0.135
## 3 Differential              20 0.270
## 4 Language                   9 0.122
## 5 Social                    11 0.149</code></pre>
<p>We can plot these values as a bar chart:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="chap-categorical.html#cb156-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> freq_table, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> n)) <span class="op">+</span></span>
<span id="cb156-2"><a href="chap-categorical.html#cb156-2"></a><span class="st">    </span><span class="kw">geom_col</span>()</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-92-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="yellow">
<p><strong>ggplot components</strong></p>
<p>Note the key components of the ggplot code.</p>
<ul>
<li><code>data =</code> where we provide the name of the dataframe.</li>
<li><code>aes =</code> where we provide the <em>aesthetics</em>. These are things which we map from the data to the graph. For instance, the x-axis, or if we wanted to colour the columns/bars according to some aspect of the data.</li>
</ul>
<p>Then we add (using <code>+</code>) some <em>geometry</em>. These are the shapes (in our case, the columns/bars), which will be put in the correct place according to what we specified in <code>aes()</code>.</p>
<ul>
<li><code>+ geom_col()</code> Adds columns to the plot.</li>
</ul>
</div>
<div class="optional-begin">
Optional - Different aes() and geoms, and labels<span id="opt-start-125" class="fa fa-plus optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-125&#39;, &#39;opt-start-125&#39;)"></span>
</div>
<div id="opt-body-125" class="optional-body" style="display: none;">
<p>Use these as reference for when you want to make changes to the plots you create.<br />
Additionall, remember that google is your friend - there are endless forums with people asking how to do something in ggplot, and you can just copy and paste bits of code to add to your plots!</p>
<ol style="list-style-type: decimal">
<li>Fill the geoms:</li>
</ol>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="chap-categorical.html#cb157-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> freq_table, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> n, <span class="dt">fill =</span> area)) <span class="op">+</span></span>
<span id="cb157-2"><a href="chap-categorical.html#cb157-2"></a><span class="st">    </span><span class="kw">geom_col</span>()</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-93-1.png" width="672" style="display: block; margin: auto;" />
2. Change the axis labels:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="chap-categorical.html#cb158-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> freq_table, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> n, <span class="dt">fill =</span> area)) <span class="op">+</span></span>
<span id="cb158-2"><a href="chap-categorical.html#cb158-2"></a><span class="st">    </span><span class="kw">geom_col</span>()<span class="op">+</span></span>
<span id="cb158-3"><a href="chap-categorical.html#cb158-3"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Counts of respondents by sub-discipline&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of respondents&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Sub-discipline&quot;</span>)</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-94-1.png" width="672" style="display: block; margin: auto;" />
3. Change the geom:<br />
(Note that using <code>geom_col</code> had the y axis starting at 0, but geom_point starts just below the lowest value.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="chap-categorical.html#cb159-1"></a><span class="co"># note that we also need to change &quot;fill = area&quot; to &quot;col = area&quot;. </span></span>
<span id="cb159-2"><a href="chap-categorical.html#cb159-2"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> freq_table, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> n, <span class="dt">col =</span> area)) <span class="op">+</span></span>
<span id="cb159-3"><a href="chap-categorical.html#cb159-3"></a><span class="st">    </span><span class="kw">geom_point</span>()<span class="op">+</span></span>
<span id="cb159-4"><a href="chap-categorical.html#cb159-4"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Counts of respondents by sub-discipline&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of respondents&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Sub-discipline&quot;</span>)</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-95-1.png" width="672" style="display: block; margin: auto;" />
4. Change the limits of the axes:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="chap-categorical.html#cb160-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> freq_table, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> n, <span class="dt">fill =</span> area)) <span class="op">+</span></span>
<span id="cb160-2"><a href="chap-categorical.html#cb160-2"></a><span class="st">    </span><span class="kw">geom_col</span>()<span class="op">+</span></span>
<span id="cb160-3"><a href="chap-categorical.html#cb160-3"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Counts of respondents by sub-discipline&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of respondents&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Sub-discipline&quot;</span>)<span class="op">+</span></span>
<span id="cb160-4"><a href="chap-categorical.html#cb160-4"></a><span class="st">    </span><span class="kw">ylim</span>(<span class="dv">0</span>,<span class="dv">50</span>)</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-96-1.png" width="672" style="display: block; margin: auto;" />
5. Remove (or reposition) the legend:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="chap-categorical.html#cb161-1"></a><span class="co"># setting legend.position as &quot;bottom&quot; would put it at the bottom!</span></span>
<span id="cb161-2"><a href="chap-categorical.html#cb161-2"></a></span>
<span id="cb161-3"><a href="chap-categorical.html#cb161-3"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> freq_table, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> n, <span class="dt">fill =</span> area)) <span class="op">+</span></span>
<span id="cb161-4"><a href="chap-categorical.html#cb161-4"></a><span class="st">    </span><span class="kw">geom_col</span>()<span class="op">+</span></span>
<span id="cb161-5"><a href="chap-categorical.html#cb161-5"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Counts of respondents by sub-discipline&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of respondents&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Sub-discipline&quot;</span>)<span class="op">+</span></span>
<span id="cb161-6"><a href="chap-categorical.html#cb161-6"></a><span class="st">    </span><span class="kw">ylim</span>(<span class="dv">0</span>,<span class="dv">50</span>)<span class="op">+</span></span>
<span id="cb161-7"><a href="chap-categorical.html#cb161-7"></a><span class="st">    </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>) </span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-97-1.png" width="672" style="display: block; margin: auto;" />
6. Changing the theme:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="chap-categorical.html#cb162-1"></a><span class="co"># there are many predefine themes, including: </span></span>
<span id="cb162-2"><a href="chap-categorical.html#cb162-2"></a><span class="co"># theme_bw(), theme_classic(), theme_light()</span></span>
<span id="cb162-3"><a href="chap-categorical.html#cb162-3"></a></span>
<span id="cb162-4"><a href="chap-categorical.html#cb162-4"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> freq_table, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> n, <span class="dt">fill =</span> area)) <span class="op">+</span></span>
<span id="cb162-5"><a href="chap-categorical.html#cb162-5"></a><span class="st">    </span><span class="kw">geom_col</span>()<span class="op">+</span></span>
<span id="cb162-6"><a href="chap-categorical.html#cb162-6"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Counts of respondents by sub-discipline&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of respondents&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Sub-discipline&quot;</span>)<span class="op">+</span></span>
<span id="cb162-7"><a href="chap-categorical.html#cb162-7"></a><span class="st">    </span><span class="kw">ylim</span>(<span class="dv">0</span>,<span class="dv">50</span>)<span class="op">+</span></span>
<span id="cb162-8"><a href="chap-categorical.html#cb162-8"></a><span class="st">    </span><span class="kw">theme_minimal</span>()</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-98-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<p class="optional-end">
</p>
</div>
</div>
<div id="ordered-categorical-ordinal-data" class="section level2">
<h2><span class="header-section-number">2.3</span> Ordered Categorical (Ordinal) Data</h2>
<p>Recall that <strong>ordinal</strong> data is categorical data which has a natural ordering of the possible responses.
One of the most common examples of ordinal data which you will encounter in psychology is the <strong>Likert Scale</strong>.
You will probably have come across these before, perhaps when completing online surveys or questionnaires.</p>
<div class="yellow">
<p><strong>Likert Scale</strong></p>
<p>A five or seven point scale on which an individual express how much they agree or disagree with a particular statement.</p>
</div>
<p>With Likert data, there is a set of discrete response options (it is <strong>categorical</strong> data).
The response options can be ranked, making it <strong>ordered categorical</strong> ( <em>strongly disagree</em> &lt; <em>disagree</em> &lt; <em>neither</em> &lt; <em>agree</em> &lt; <em>strongly agree</em> ).
Importantly, the distance between responses is <strong>not</strong> measurable.</p>
<div id="frequency-table-1" class="section level3 unnumbered">
<h3>Frequency table</h3>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="chap-categorical.html#cb163-1"></a><span class="kw">set.seed</span>(<span class="dv">3853</span>)</span>
<span id="cb163-2"><a href="chap-categorical.html#cb163-2"></a>psych_disciplines <span class="op">%&gt;%</span></span>
<span id="cb163-3"><a href="chap-categorical.html#cb163-3"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb163-4"><a href="chap-categorical.html#cb163-4"></a>        <span class="dt">happiness =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace=</span><span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(.<span class="dv">1</span>,.<span class="dv">2</span>,.<span class="dv">3</span>,.<span class="dv">3</span>,.<span class="dv">1</span>)),</span>
<span id="cb163-5"><a href="chap-categorical.html#cb163-5"></a>        <span class="dt">job_sat =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace=</span><span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(.<span class="dv">1</span>,.<span class="dv">1</span>,.<span class="dv">1</span>,.<span class="dv">3</span>,.<span class="dv">4</span>))</span>
<span id="cb163-6"><a href="chap-categorical.html#cb163-6"></a>    ) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>area) -&gt;<span class="st"> </span>psych_survey</span>
<span id="cb163-7"><a href="chap-categorical.html#cb163-7"></a><span class="co">#write.csv(psych_disciplines2,&quot;data/psych_survey2.csv&quot;,row.names=FALSE)</span></span></code></pre></div>
<p>Let’s suppose that as well as collecting information on the sub-discipline of psychology they identified with, we also asked our respondents to rate their level of happiness from 1 to 5, as well as their job satisfaction from 1 to 5.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="chap-categorical.html#cb164-1"></a>psych_survey &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://uoepsy.github.io/data/dapr1/psych_survey2.csv&quot;</span>)</span>
<span id="cb164-2"><a href="chap-categorical.html#cb164-2"></a>psych_survey</span></code></pre></div>
<pre><code>## # A tibble: 74 x 3
##    participant   happiness job_sat
##    &lt;chr&gt;             &lt;dbl&gt;   &lt;dbl&gt;
##  1 respondent_1          3       3
##  2 respondent_2          3       4
##  3 respondent_3          2       5
##  4 respondent_4          4       5
##  5 respondent_5          3       5
##  6 respondent_6          4       4
##  7 respondent_7          4       2
##  8 respondent_8          5       5
##  9 respondent_9          1       5
## 10 respondent_10         3       4
## # … with 64 more rows</code></pre>
<p>For these questions (variables <em>happiness</em> and <em>job_sat</em>), we could do the same thing as we did above for unordered categorical data, and summarise this into frequencies:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="chap-categorical.html#cb166-1"></a><span class="co"># take the &quot;psych_survey&quot; dataframe %&gt;%</span></span>
<span id="cb166-2"><a href="chap-categorical.html#cb166-2"></a><span class="co"># count() the values in the &quot;happiness&quot; variable </span></span>
<span id="cb166-3"><a href="chap-categorical.html#cb166-3"></a>psych_survey <span class="op">%&gt;%</span></span>
<span id="cb166-4"><a href="chap-categorical.html#cb166-4"></a><span class="st">    </span><span class="kw">count</span>(happiness)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   happiness     n
##       &lt;dbl&gt; &lt;int&gt;
## 1         1     6
## 2         2    13
## 3         3    27
## 4         4    21
## 5         5     7</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="chap-categorical.html#cb168-1"></a><span class="co"># take the &quot;psych_survey&quot; dataframe %&gt;%</span></span>
<span id="cb168-2"><a href="chap-categorical.html#cb168-2"></a><span class="co"># count() the values in the &quot;job_sat&quot; variable </span></span>
<span id="cb168-3"><a href="chap-categorical.html#cb168-3"></a>psych_survey <span class="op">%&gt;%</span></span>
<span id="cb168-4"><a href="chap-categorical.html#cb168-4"></a><span class="st">    </span><span class="kw">count</span>(job_sat)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   job_sat     n
##     &lt;dbl&gt; &lt;int&gt;
## 1       1     3
## 2       2     6
## 3       3    11
## 4       4    16
## 5       5    38</code></pre>
</div>
<div id="central-tendency-1" class="section level3 unnumbered">
<h3>Central tendency</h3>
<p>We could again use the <strong>Mode</strong> - the most common value - to summarise this data.
However, because the responses are <strong>ordered</strong>, it can be more useful to think about the percentages of respondents in and below/above each category.
For instance, we might want to talk about asking which category has 50% of the observations in a lower category, and 50% of the observations in a higher category. This is mid-point is known as the <strong>Median</strong>.</p>
<div class="yellow">
<p><strong>Median</strong></p>
<p>The value for which 50% of observations a lower and 50% are higher. It is the mid-point of a list of ordered values.</p>
<p>To find the median:</p>
<ol style="list-style-type: decimal">
<li>rank order the values</li>
<li>find the middle value:
<ul>
<li>If there are <span class="math inline">\(n\)</span> values, find the value at position <span class="math inline">\(\frac{n+1}{2}\)</span>.<br />
</li>
<li>If <span class="math inline">\(n\)</span> is even, <span class="math inline">\(\frac{n+1}{2}\)</span> will not be a whole number.<br />
For instance, if <span class="math inline">\(n = 20\)</span>, you are looking for the <span class="math inline">\(\frac{n+1}{2} = \frac{20+1}{2} = 10.5^{th}\)</span> value.
<ul>
<li>When calculating the <strong>median for ordinal data,</strong> if the <span class="math inline">\(\frac{n}{2}^{th}\)</span> and <span class="math inline">\(\frac{n+1}{2}^{th}\)</span> values are different, report both.</li>
<li>When calculating the <strong>median for numeric data,</strong> report the midpoint of the <span class="math inline">\(\frac{n}{2}^{th}\)</span> and <span class="math inline">\(\frac{n+1}{2}^{th}\)</span> values.</li>
</ul></li>
</ul></li>
</ol>
</div>
<p>In the previous chapter we discussed how to tell R explicitly that a variable is of a certain type using functions such as <code>as.factor()</code>, <code>as.numeric()</code>, and so on.<br />
You may notice that we haven’t done this yet with the data we have been working with in this chapter:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="chap-categorical.html#cb170-1"></a><span class="co"># inside the &quot;psych_survey&quot; dataframe, take ($) the &quot;happiness&quot; variable,</span></span>
<span id="cb170-2"><a href="chap-categorical.html#cb170-2"></a><span class="co"># and tell me what type/class it is</span></span>
<span id="cb170-3"><a href="chap-categorical.html#cb170-3"></a><span class="kw">class</span>(psych_survey<span class="op">$</span>happiness)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>This is because <em>there are some benefits to letting R think your data is numeric, even when it is not.</em>
It means we can use functions such as <code>median()</code> to quickly find the median:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="chap-categorical.html#cb172-1"></a><span class="co"># inside the &quot;psych_survey&quot; dataframe, take ($) the &quot;happiness&quot; variable,</span></span>
<span id="cb172-2"><a href="chap-categorical.html#cb172-2"></a><span class="co"># and find the median</span></span>
<span id="cb172-3"><a href="chap-categorical.html#cb172-3"></a><span class="kw">median</span>(psych_survey<span class="op">$</span>happiness)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="red">
<p><strong>Be careful</strong><br />
While we can make R treat this data is numeric, it is important to remember that it is actually measured on an <strong>ordinal</strong> scale.</p>
<p>For example, if the median falls <em>between</em> levels, R will tell us that the median is the mid-point:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="chap-categorical.html#cb174-1"></a><span class="co"># for the values 2,1,2,3,4,5, </span></span>
<span id="cb174-2"><a href="chap-categorical.html#cb174-2"></a><span class="co"># find the median</span></span>
<span id="cb174-3"><a href="chap-categorical.html#cb174-3"></a><span class="kw">median</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>))</span></code></pre></div>
<pre><code>## [1] 2.5</code></pre>
<p>But because our data is ordinal, then we know that 2.5 is not a valid response.</p>
</div>
<p>We can also use functions such as <code>min()</code> and <code>max()</code> to find the minimum and maximum values:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="chap-categorical.html#cb176-1"></a><span class="co"># inside the &quot;psych_survey&quot; dataframe, take ($) the &quot;happiness&quot; variable,</span></span>
<span id="cb176-2"><a href="chap-categorical.html#cb176-2"></a><span class="co"># and find the minimum value</span></span>
<span id="cb176-3"><a href="chap-categorical.html#cb176-3"></a><span class="kw">min</span>(psych_survey<span class="op">$</span>happiness)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="chap-categorical.html#cb178-1"></a><span class="co"># and find the maximum value</span></span>
<span id="cb178-2"><a href="chap-categorical.html#cb178-2"></a><span class="kw">max</span>(psych_survey<span class="op">$</span>happiness)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
</div>
<div id="cumulative-percentages-quartiles" class="section level3 unnumbered">
<h3>Cumulative percentages, Quartiles</h3>
<p>In calculating the median, we are going beyond talking about the <strong>relative frequencies</strong> (i.e., the percentage in each category), to talking about the <strong>cumulative percentage.</strong></p>
<div class="yellow">
<p><strong>Cumulative percentage</strong></p>
<p>Cumulative percentages are another way of expressing a frequency distribution.<br />
They are the <strong>successive addition of percentages</strong> in each category. For example, the cumulative percentage for the 3rd category is the percentage of respondents in the 1st, 2nd and 3rd category:</p>
<table>
<colgroup>
<col width="11%" />
<col width="20%" />
<col width="23%" />
<col width="21%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Category</th>
<th align="right">Frequency count (n)</th>
<th align="right">Relative frequency (%)</th>
<th align="right">Cumulative frequency</th>
<th align="right">Cumulative percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Response 1</td>
<td align="right">10</td>
<td align="right">13.33333</td>
<td align="right">10</td>
<td align="right">13.33333</td>
</tr>
<tr class="even">
<td align="left">Response 2</td>
<td align="right">10</td>
<td align="right">13.33333</td>
<td align="right">20</td>
<td align="right">26.66667</td>
</tr>
<tr class="odd">
<td align="left">Response 3</td>
<td align="right">20</td>
<td align="right">26.66667</td>
<td align="right">40</td>
<td align="right">53.33333</td>
</tr>
<tr class="even">
<td align="left">Response 4</td>
<td align="right">25</td>
<td align="right">33.33333</td>
<td align="right">65</td>
<td align="right">86.66667</td>
</tr>
<tr class="odd">
<td align="left">Response 5</td>
<td align="right">10</td>
<td align="right">13.33333</td>
<td align="right">75</td>
<td align="right">100.00000</td>
</tr>
</tbody>
</table>
</div>
<p>We saw before how we can calculate the proportions/percentages in each category:<br />
( <strong>Note:</strong> We multiply by 100 here to turn the proportion into a percentage)</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="chap-categorical.html#cb180-1"></a><span class="co"># take the &quot;psych_survey&quot; dataframe %&gt;%</span></span>
<span id="cb180-2"><a href="chap-categorical.html#cb180-2"></a><span class="co"># count() the values in the &quot;happiness&quot; variable (creates an &quot;n&quot; column), and</span></span>
<span id="cb180-3"><a href="chap-categorical.html#cb180-3"></a><span class="co"># from there, &#39;mutate&#39; such that there is a variable called &quot;percent&quot; which</span></span>
<span id="cb180-4"><a href="chap-categorical.html#cb180-4"></a><span class="co"># has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable.</span></span>
<span id="cb180-5"><a href="chap-categorical.html#cb180-5"></a>psych_survey <span class="op">%&gt;%</span></span>
<span id="cb180-6"><a href="chap-categorical.html#cb180-6"></a><span class="st">  </span><span class="kw">count</span>(happiness) <span class="op">%&gt;%</span></span>
<span id="cb180-7"><a href="chap-categorical.html#cb180-7"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb180-8"><a href="chap-categorical.html#cb180-8"></a>    <span class="dt">percent =</span> n<span class="op">/</span><span class="kw">sum</span>(n)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb180-9"><a href="chap-categorical.html#cb180-9"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   happiness     n percent
##       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;
## 1         1     6    8.11
## 2         2    13   17.6 
## 3         3    27   36.5 
## 4         4    21   28.4 
## 5         5     7    9.46</code></pre>
<p>We can add another variable, and make it the cumulative percentage, by using the <code>cumsum()</code> function.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="chap-categorical.html#cb182-1"></a><span class="co"># take the &quot;psych_survey&quot; dataframe %&gt;%</span></span>
<span id="cb182-2"><a href="chap-categorical.html#cb182-2"></a><span class="co"># count() the values in the &quot;happiness&quot; variable (creates an &quot;n&quot; column), and</span></span>
<span id="cb182-3"><a href="chap-categorical.html#cb182-3"></a><span class="co"># from there, &#39;mutate&#39; such that there is a variable called &quot;percent&quot; which</span></span>
<span id="cb182-4"><a href="chap-categorical.html#cb182-4"></a><span class="co"># has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable,</span></span>
<span id="cb182-5"><a href="chap-categorical.html#cb182-5"></a><span class="co"># and also make a variable called &quot;cumulative_percent&quot; which is the </span></span>
<span id="cb182-6"><a href="chap-categorical.html#cb182-6"></a><span class="co"># successive addition of the values in the &quot;percent&quot; variable</span></span>
<span id="cb182-7"><a href="chap-categorical.html#cb182-7"></a>psych_survey <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb182-8"><a href="chap-categorical.html#cb182-8"></a><span class="st">  </span><span class="kw">count</span>(happiness) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb182-9"><a href="chap-categorical.html#cb182-9"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb182-10"><a href="chap-categorical.html#cb182-10"></a>    <span class="dt">percent =</span> n<span class="op">/</span><span class="kw">sum</span>(n)<span class="op">*</span><span class="dv">100</span>,</span>
<span id="cb182-11"><a href="chap-categorical.html#cb182-11"></a>    <span class="dt">cumulative_percent =</span> <span class="kw">cumsum</span>(percent)</span>
<span id="cb182-12"><a href="chap-categorical.html#cb182-12"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##   happiness     n percent cumulative_percent
##       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;              &lt;dbl&gt;
## 1         1     6    8.11               8.11
## 2         2    13   17.6               25.7 
## 3         3    27   36.5               62.2 
## 4         4    21   28.4               90.5 
## 5         5     7    9.46             100</code></pre>
<div class="optional-begin">
Optional <span id="opt-start-126" class="fa fa-plus optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-126&#39;, &#39;opt-start-126&#39;)"></span>
</div>
<div id="opt-body-126" class="optional-body" style="display: none;">
<p>Think about why this will not work:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="chap-categorical.html#cb184-1"></a>psych_survey <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb184-2"><a href="chap-categorical.html#cb184-2"></a><span class="st">  </span><span class="kw">count</span>(happiness) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb184-3"><a href="chap-categorical.html#cb184-3"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb184-4"><a href="chap-categorical.html#cb184-4"></a>    <span class="dt">cumulative_percent =</span> <span class="kw">cumsum</span>(percent),</span>
<span id="cb184-5"><a href="chap-categorical.html#cb184-5"></a>    <span class="dt">percent =</span> n<span class="op">/</span><span class="kw">sum</span>(n)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb184-6"><a href="chap-categorical.html#cb184-6"></a>  )</span></code></pre></div>
<p style="color:red">
Error: object ‘percent’ not found
</p>
<p><strong>Answer:</strong> Inside the <code>mutate()</code> function, we are trying to assign the <em>cumulative_percent</em> variable based on the values of the <em>percent</em> variable. But in the code above, <em>percent</em> gets defined <strong>after</strong> <em>cumulative_percent</em>, and so it will not work. Hence the error message (“percent not found”).</p>
</div>
<p class="optional-end">
</p>
<p>While the <strong>median</strong> splits the data in two (50% either side), you will often see data being split into four equal blocks.<br />
The points which divide the four blocks are known as <strong>quartiles</strong>.</p>
<div class="yellow">
<p><strong>Quartiles</strong></p>
<p>Quartiles are the points in rank-ordered data below which falls 25%, 50%, and 75% of the data.</p>
<ul>
<li>The first quartile is the first category for which the cumulative percentage is <span class="math inline">\(\geq 25\%\)</span>.<br />
</li>
<li>The median is the first category for which the cumulative percentage is <span class="math inline">\(\geq 50\%\)</span>.<br />
</li>
<li>The third quartile is the first category for which the cumulative percentage is <span class="math inline">\(\geq 75\%\)</span>.</li>
</ul>
</div>
<p>By looking at the quartiles, it gives us an idea of <em>how spread out the data is</em>.<br />
As an example, if we had 10 categories <em>A, B, C, D, E, F, G, H, I, J</em>, and we knew that:</p>
<ul>
<li><span class="math inline">\(Q_1\)</span> (the <span class="math inline">\(1^{st}\)</span> quartile) = <em>G</em>,</li>
<li><span class="math inline">\(Q_2\)</span> (the <span class="math inline">\(2^{nd}\)</span> quartile, the <strong>median</strong>) = <em>H</em>,</li>
<li><span class="math inline">\(Q_3\)</span> (the <span class="math inline">\(3^{rd}\)</span> quartile) = <em>H</em>,</li>
</ul>
<p>This tells us that the first 25% of the data falls in one of the categories from <em>A</em> to <em>G</em> (quite a large range), the second 25% falls in categories <em>G</em> and <em>H</em> (a small range), and the third 25% of the data falls entirely in category <em>H</em>.<br />
So a lot of the data is between <em>G</em> and <em>H</em>, with the data being more sparse in the lower and higher categories.</p>
<div class="frame">
<p><strong>Looking ahead to numeric data</strong></p>
<p>We will talk about quartiles in numeric data too, where we commonly use the <em>difference</em> between the first and third quartile as a measure of how spread out the data are. This gets known as the <strong>inter-quartile range (IQR).</strong></p>
</div>
</div>
<div id="visualising-1" class="section level3 unnumbered">
<h3>Visualising</h3>
<p>We can visualise ordered categorical data in the same way we did for unordered.<br />
First we save our frequencies/percentages as a new object:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="chap-categorical.html#cb185-1"></a>freq_table2 &lt;-<span class="st"> </span>psych_survey <span class="op">%&gt;%</span></span>
<span id="cb185-2"><a href="chap-categorical.html#cb185-2"></a><span class="st">  </span><span class="kw">count</span>(happiness) <span class="op">%&gt;%</span></span>
<span id="cb185-3"><a href="chap-categorical.html#cb185-3"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb185-4"><a href="chap-categorical.html#cb185-4"></a>    <span class="dt">percent =</span> n<span class="op">/</span><span class="kw">sum</span>(n)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb185-5"><a href="chap-categorical.html#cb185-5"></a>  )</span></code></pre></div>
<p>Then we give that object to our <strong>ggplot</strong> code, with the appropriate <code>aes()</code> mappings:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="chap-categorical.html#cb186-1"></a><span class="co"># make a ggplot with the object &quot;freq_table2&quot;. </span></span>
<span id="cb186-2"><a href="chap-categorical.html#cb186-2"></a><span class="co"># on the x axis put the possible values in the &quot;happiness&quot; variable,</span></span>
<span id="cb186-3"><a href="chap-categorical.html#cb186-3"></a><span class="co"># on the y axis put the possible values in the &quot;n&quot; variable.</span></span>
<span id="cb186-4"><a href="chap-categorical.html#cb186-4"></a><span class="co"># add columns for each entry in the data. </span></span>
<span id="cb186-5"><a href="chap-categorical.html#cb186-5"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> freq_table2, <span class="kw">aes</span>(<span class="dt">x =</span> happiness, <span class="dt">y =</span> percent)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb186-6"><a href="chap-categorical.html#cb186-6"></a><span class="st">  </span><span class="kw">geom_col</span>()</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-111-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />
</div>
</div>
<div id="glossary" class="section level2">
<h2><span class="header-section-number">2.4</span> Glossary</h2>
<ul>
<li><strong>distribution:</strong> How often different possible values in a variable occur.</li>
<li><strong>frequency:</strong> Number of occurrences (count) in a given response value.</li>
<li><strong>relative frequency:</strong> Percentage/proportion of occurrences in a given response value.</li>
<li><strong>cumulative percentage:</strong> Percentage of occurrences in <em>or below</em> a given reponse value (requires ordered data).</li>
<li><strong>mode:</strong> Most common value.</li>
<li><strong>median:</strong> Middle value.
<br><br></li>
<li><code>%&gt;%</code> Takes the output of whatever is on the LHS and gives it as the input of whatever is on the RHS.</li>
<li><code>count()</code> Counts the number of occurrences of each unique value in a variable.</li>
<li><code>mutate()</code> Used to add variables to the dataframe, or modify existing variables.</li>
<li><code>min()</code> Returns the minimum value of a variable.</li>
<li><code>max()</code> Returns the maximum value of a variable.</li>
<li><code>median()</code> Returns the median value of a variable.</li>
<li><code>ggplot()</code> Creates a plot. Takes <code>data=</code> and a set of mappings <code>aes()</code> from the data to properties of the plot (e.g., x/y axes, colours).</li>
<li><code>geom_col()</code> Adds columns to a ggplot.</li>
</ul>
<hr />
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">2.5</span> Exercises</h2>
<div class="question-begin">
Question 1
</div>
<div class="question-body">
<p>Open a new Rmarkdown document for the exercises in this chapter.</p>
<p><strong>File &gt; New File &gt; R Markdown..</strong></p>
<p>In your first code-chunk, load the <em>tidyverse</em> packages with the following command:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="chap-categorical.html#cb187-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<p>Make sure you run the chunk.</p>
<p class="question-end">
</p>
</div>
<hr />
<div class="question-begin">
Question 2
</div>
<div class="question-body">
<p>We’re going to use the data on popular passwords from the previous chapter.<br />
The data is available online at <a href="https://uoepsy.github.io/data/dapr1/passworddata.csv" class="uri">https://uoepsy.github.io/data/dapr1/passworddata.csv</a>.</p>
<p>Read in the data from the link.</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 2<span id="sol-start-127" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-127&#39;, &#39;sol-start-127&#39;)"></span>
</div>
<div id="sol-body-127" class="solution-body" style="display: none;">
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="chap-categorical.html#cb188-1"></a>pwords &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://uoepsy.github.io/data/dapr1/passworddata.csv&quot;</span>)</span></code></pre></div>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 3
</div>
<div class="question-body">
<p>Produce a table of frequencies and relative frequencies (percentages/proportions) of different types of passwords</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 3<span id="sol-start-128" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-128&#39;, &#39;sol-start-128&#39;)"></span>
</div>
<div id="sol-body-128" class="solution-body" style="display: none;">
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="chap-categorical.html#cb189-1"></a><span class="co"># assigned to an object called &quot;type_freqs&quot; : </span></span>
<span id="cb189-2"><a href="chap-categorical.html#cb189-2"></a>  <span class="co"># take the &quot;pwords&quot; dataframe %&gt;%</span></span>
<span id="cb189-3"><a href="chap-categorical.html#cb189-3"></a>  <span class="co"># count() the values in the &quot;type&quot; variable (creates an &quot;n&quot; column), and</span></span>
<span id="cb189-4"><a href="chap-categorical.html#cb189-4"></a>  <span class="co"># from there, &#39;mutate&#39; such that there is a variable called &quot;percent&quot; which</span></span>
<span id="cb189-5"><a href="chap-categorical.html#cb189-5"></a>  <span class="co"># has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable,</span></span>
<span id="cb189-6"><a href="chap-categorical.html#cb189-6"></a>type_freqs &lt;-<span class="st"> </span>pwords <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb189-7"><a href="chap-categorical.html#cb189-7"></a><span class="st">  </span><span class="kw">count</span>(type) <span class="op">%&gt;%</span></span>
<span id="cb189-8"><a href="chap-categorical.html#cb189-8"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb189-9"><a href="chap-categorical.html#cb189-9"></a>    <span class="dt">percent =</span> n<span class="op">/</span><span class="kw">sum</span>(n)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb189-10"><a href="chap-categorical.html#cb189-10"></a>  )</span>
<span id="cb189-11"><a href="chap-categorical.html#cb189-11"></a></span>
<span id="cb189-12"><a href="chap-categorical.html#cb189-12"></a>type_freqs</span></code></pre></div>
<pre><code>## # A tibble: 10 x 3
##    type                    n percent
##    &lt;fct&gt;               &lt;int&gt;   &lt;dbl&gt;
##  1 animal                 29    5.8 
##  2 cool-macho             79   15.8 
##  3 fluffy                 44    8.80
##  4 food                   11    2.20
##  5 name                  183   36.6 
##  6 nerdy-pop              30    6   
##  7 password-related       15    3   
##  8 rebellious-rude        11    2.20
##  9 simple-alphanumeric    61   12.2 
## 10 sport                  37    7.4</code></pre>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 4
</div>
<div class="question-body">
<p>What is the mode of password type? and what is the least common?</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 4<span id="sol-start-129" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-129&#39;, &#39;sol-start-129&#39;)"></span>
</div>
<div id="sol-body-129" class="solution-body" style="display: none;">
<p>The Mode (most common) of password type is “name”, with 36.6% of passwords falling into this category.<br />
Password categories of “food” and “rebellious-rude” are the least common (2.2% in each category).</p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 5
</div>
<div class="question-body">
<p>Produce a plot of the frequencies of password types:</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 5<span id="sol-start-130" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-130&#39;, &#39;sol-start-130&#39;)"></span>
</div>
<div id="sol-body-130" class="solution-body" style="display: none;">
<p>We have added the line <code>scale_x_discrete(labels = abbreviate)</code> here, which will make abbreviate the labels on the x-axis!</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="chap-categorical.html#cb191-1"></a><span class="co"># make a ggplot with the data &quot;type_freqs&quot;, and map the &quot;type&quot; variable</span></span>
<span id="cb191-2"><a href="chap-categorical.html#cb191-2"></a><span class="co"># to the x axis, and the &quot;n&quot; variable to the y axis. </span></span>
<span id="cb191-3"><a href="chap-categorical.html#cb191-3"></a><span class="co"># add a geom_cols for each entry in the data</span></span>
<span id="cb191-4"><a href="chap-categorical.html#cb191-4"></a><span class="co"># abbreviate the labels on the x axis</span></span>
<span id="cb191-5"><a href="chap-categorical.html#cb191-5"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> type_freqs, <span class="kw">aes</span>(<span class="dt">x =</span> type, <span class="dt">y =</span> n)) <span class="op">+</span></span>
<span id="cb191-6"><a href="chap-categorical.html#cb191-6"></a><span class="st">  </span><span class="kw">geom_col</span>()<span class="op">+</span></span>
<span id="cb191-7"><a href="chap-categorical.html#cb191-7"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">labels =</span> abbreviate)</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-115-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 6
</div>
<div class="question-body">
<p>In the previous chapter’s exercises we worked with the <em>strength_cat</em> variable, and made R treat it as an ordered categorical variable (<em>weak</em> &lt; <em>medium</em> &lt; <em>strong</em>).<br />
The <em>strength</em> variable is also an ordered categorical variable, but contains more levels, measuring password strength on values from 1 to 10.</p>
<p>Produce a table showing the frequencies and cumulative percentages of the different strength levels of passwords in the data</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 6<span id="sol-start-131" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-131&#39;, &#39;sol-start-131&#39;)"></span>
</div>
<div id="sol-body-131" class="solution-body" style="display: none;">
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="chap-categorical.html#cb192-1"></a><span class="co"># assigned to an object called &quot;strength_table&quot; : </span></span>
<span id="cb192-2"><a href="chap-categorical.html#cb192-2"></a>  <span class="co"># take the &quot;pwords&quot; dataframe %&gt;%</span></span>
<span id="cb192-3"><a href="chap-categorical.html#cb192-3"></a>  <span class="co"># count() the values in the &quot;strength&quot; variable (creates an &quot;n&quot; column), and</span></span>
<span id="cb192-4"><a href="chap-categorical.html#cb192-4"></a>  <span class="co"># from there, &#39;mutate&#39; such that there is a variable called &quot;percent&quot; which</span></span>
<span id="cb192-5"><a href="chap-categorical.html#cb192-5"></a>  <span class="co"># has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable,</span></span>
<span id="cb192-6"><a href="chap-categorical.html#cb192-6"></a>  <span class="co"># and also make a variable called &quot;cumulative_percent&quot; which is the </span></span>
<span id="cb192-7"><a href="chap-categorical.html#cb192-7"></a>  <span class="co"># successive addition of the values in the &quot;percent&quot; variable</span></span>
<span id="cb192-8"><a href="chap-categorical.html#cb192-8"></a>strength_table &lt;-<span class="st"> </span>pwords <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb192-9"><a href="chap-categorical.html#cb192-9"></a><span class="st">  </span><span class="kw">count</span>(strength) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb192-10"><a href="chap-categorical.html#cb192-10"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb192-11"><a href="chap-categorical.html#cb192-11"></a>    <span class="dt">percent =</span> n<span class="op">/</span><span class="kw">sum</span>(n)<span class="op">*</span><span class="dv">100</span>,</span>
<span id="cb192-12"><a href="chap-categorical.html#cb192-12"></a>    <span class="dt">cumulative_percent =</span> <span class="kw">cumsum</span>(percent)</span>
<span id="cb192-13"><a href="chap-categorical.html#cb192-13"></a>  )</span>
<span id="cb192-14"><a href="chap-categorical.html#cb192-14"></a></span>
<span id="cb192-15"><a href="chap-categorical.html#cb192-15"></a><span class="co"># show the object called &quot;strength_table&quot;</span></span>
<span id="cb192-16"><a href="chap-categorical.html#cb192-16"></a>strength_table</span></code></pre></div>
<pre><code>## # A tibble: 10 x 4
##    strength     n percent cumulative_percent
##       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;              &lt;dbl&gt;
##  1        1    35     7.                 7. 
##  2        2     2     0.4                7.4
##  3        3     7     1.4                8.8
##  4        4    29     5.8               14.6
##  5        5    17     3.4               18. 
##  6        6    76    15.2               33.2
##  7        7   101    20.2               53.4
##  8        8   162    32.4               85.8
##  9        9    46     9.2               95  
## 10       10    25     5                100</code></pre>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 7
</div>
<div class="question-body">
<p>From looking <em>only</em> at the table you made in the previous question, what is the median strength level?</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 7<span id="sol-start-132" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-132&#39;, &#39;sol-start-132&#39;)"></span>
</div>
<div id="sol-body-132" class="solution-body" style="display: none;">
<p>The median password strength is 7/10.<br />
Remember, it is the first level for which the cumulative percentage is <span class="math inline">\(\geq 50\%\)</span>.</p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 8
</div>
<div class="question-body">
<p>Check that your answer is correct by passing the <em>strength</em> variable to the <code>median()</code> function.
Find also the minimum and maximum values.</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 8<span id="sol-start-133" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-133&#39;, &#39;sol-start-133&#39;)"></span>
</div>
<div id="sol-body-133" class="solution-body" style="display: none;">
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="chap-categorical.html#cb194-1"></a><span class="co"># for the &quot;strength&quot; variable in the &quot;pwords&quot; dataframe,</span></span>
<span id="cb194-2"><a href="chap-categorical.html#cb194-2"></a><span class="co"># show the median value</span></span>
<span id="cb194-3"><a href="chap-categorical.html#cb194-3"></a><span class="kw">median</span>(pwords<span class="op">$</span>strength)</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="chap-categorical.html#cb196-1"></a><span class="co">#find min and max</span></span>
<span id="cb196-2"><a href="chap-categorical.html#cb196-2"></a><span class="kw">min</span>(pwords<span class="op">$</span>strength)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="chap-categorical.html#cb198-1"></a><span class="kw">max</span>(pwords<span class="op">$</span>strength)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 9
</div>
<div class="question-body">
<p>Create a plot of the percentages of passwords in each strength level</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 9<span id="sol-start-134" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-134&#39;, &#39;sol-start-134&#39;)"></span>
</div>
<div id="sol-body-134" class="solution-body" style="display: none;">
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="chap-categorical.html#cb200-1"></a><span class="co"># make a ggplot with the data &quot;strength_table&quot;, and map the &quot;strength&quot; variable</span></span>
<span id="cb200-2"><a href="chap-categorical.html#cb200-2"></a><span class="co"># to the x axis, and the &quot;percent&quot; variable to the y axis. </span></span>
<span id="cb200-3"><a href="chap-categorical.html#cb200-3"></a><span class="co"># add a geom_cols for each entry in the data</span></span>
<span id="cb200-4"><a href="chap-categorical.html#cb200-4"></a><span class="co"># add title and edit the x and y axis names</span></span>
<span id="cb200-5"><a href="chap-categorical.html#cb200-5"></a><span class="co"># use the classic theme</span></span>
<span id="cb200-6"><a href="chap-categorical.html#cb200-6"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> strength_table, <span class="kw">aes</span>(<span class="dt">x =</span> strength, <span class="dt">y =</span> percent)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb200-7"><a href="chap-categorical.html#cb200-7"></a><span class="st">  </span><span class="kw">geom_col</span>()<span class="op">+</span></span>
<span id="cb200-8"><a href="chap-categorical.html#cb200-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relative frequencies of different password strengths&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Password Strength&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Percentage of passwords&quot;</span>)<span class="op">+</span></span>
<span id="cb200-9"><a href="chap-categorical.html#cb200-9"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="labs_files/figure-html/unnamed-chunk-118-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 10
</div>
<div class="question-body">
<p>Think back at the definition of quartiles.<br />
At what point is the fourth quartile?</p>
<ol style="list-style-type: lower-alpha">
<li>The maximum value<br />
</li>
<li>The first category for which the cumulative percentage is <span class="math inline">\(\geq 100\%\)</span>.<br />
</li>
<li>Both of the above</li>
</ol>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 10<span id="sol-start-135" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-135&#39;, &#39;sol-start-135&#39;)"></span>
</div>
<div id="sol-body-135" class="solution-body" style="display: none;">
<p>Both!<br />
The first category for which the cumulative percentage is <span class="math inline">\(\geq 100\%\)</span> has to be the maximum, because only at the maximum will <span class="math inline">\(100\%\)</span> of the data fall below.</p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 11
</div>
<div class="question-body">
<p>Take a look at the two plots below. Why is one more useful than the other?
<img src="labs_files/figure-html/unnamed-chunk-119-1.png" width="672" style="display: block; margin: auto;" /></p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution 11<span id="sol-start-136" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-136&#39;, &#39;sol-start-136&#39;)"></span>
</div>
<div id="sol-body-136" class="solution-body" style="display: none;">
<p>Because the different response levels of the happiness variable have a natural ordering, it is much more useful to plot them in this order on the x-axis (the left-hand plot).<br />
Notice that this plot also begins to show a distinct <em>shape,</em> and we can see that only few of our respondents gave extreme responses (1 or 5), with more responding 2 or 4, and finally the most common response being 3.</p>
</div>
<p class="solution-end">
</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chap-data-types.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chap-numeric.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["labs.pdf", "labs.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
