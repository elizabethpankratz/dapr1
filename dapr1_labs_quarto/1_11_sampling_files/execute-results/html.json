{
  "hash": "deab03a993c695319109d00019c02ce7",
  "result": {
    "markdown": "---\ntitle: \"Sampling\"\nsubtitle: \"Semester 1 - Week 11\"\ncallout-appearance: simple\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n\n::: {.callout-important collapse=\"false\"}\n## This week: Submission of Formative report B {-}\n\n- Your group must submit one PDF file for formative report B by 12 noon on Friday 2nd December 2022.\n\n- To submit go to the course Learn page, click \"Assessment\" from the left-hand side menu, then click \"Report submission\", and then \"Submit Formative Report B here (PDF file only)\".\n\n    + Only one person per group is required to submit on behalf of the entire group. However, to ensure that everyone in the group can see the feedback, please double check that you self-registered in the group on Learn (see group name on the desk).\n\n- As mentioned on the Course Information page, there will be no extensions allowed for group-based reports.\n\n- You will receive formative feedback on your submission during the labs of week 12. Please attend your lab next week!\n\n- The submitted report should be a PDF file of 4 pages at most. \n\n- You can add an Appendix in which you will collate all the R code in a chunk with the settings `results = 'hide', fig.show = 'hide'`. This will not count towards the page limit.  \n\n- Excluding the Appendix, the report should not include any reference to R code or functions, but be written for a generic reader who is only assumed to have a basic statistical understanding without any R knowledge.\n:::\n\n\n::: {.callout-note collapse=\"true\"}\n## Data {-}\n\n**Hollywood Movies**. At the link <https://uoepsy.github.io/data/hollywood_movies_subset.csv> you will find data on Hollywood movies released between 2012 and 2018 from the top 5 lead studios and top 10 genres. The following variables were recorded:\n\n- `Movie`: Title of the movie \n- `LeadStudio`: Primary U.S. distributor of the movie \n- `RottenTomatoes`: Rotten Tomatoes rating (critics) \n- `AudienceScore`: Audience rating (via Rotten Tomatoes) \n- `Genre`: One of Action Adventure, Black Comedy, Comedy, Concert, Documentary, Drama, Horror, Musical, Romantic Comedy, Thriller, or Western \n- `TheatersOpenWeek`: Number of screens for opening weekend \n- `OpeningWeekend`: Opening weekend gross (in millions) \n- `BOAvgOpenWeekend`: Average box office income per theater, opening weekend \n- `Budget`: Production budget (in millions) \n- `DomesticGross`: Gross income for domestic (U.S.) viewers (in millions) \n- `WorldGross`: Gross income for all viewers (in millions) \n- `ForeignGross`: Gross income for foreign viewers (in millions) \n- `Profitability`: WorldGross as a percentage of Budget \n- `OpenProfit`: Percentage of budget recovered on opening weekend \n- `Year`: Year the movie was released\n- `IQ1`-`IQ50`: IQ score of each of 50 audience raters\n- `Snacks`: How many of the 50 audience raters brought snacks\n- `PrivateTransport`: How many of the 50 audience raters reached the cinema via private transportation\n:::\n\n## Tasks\n\nFor formative report B, you will be asked to perform the following tasks, each related to a week of teaching in this course.  \n\n__This week you will only focus on task B5.__ \n\nB1) Create and summarise categorical variables, before calculating probabilities.  \nB2) Investigate if events are independent, and compute probabilities.  \nB3) Computing and plotting probabilities with a binomial distribution.\nB4) Computing and plotting probabilities with a normal distribution.  \n\n:::{.callout-note}\n### This week's task\n  \nB5) Plot standard error of the mean, and finish the report write-up (i.e., knit to PDF, and submit the PDF for formative feedback).  \n:::\n\n## B5 sub-tasks\n\n::: callout-tip\n### Tip\n\nTo see the hints, hover your cursor on the superscript numbers.\n:::\n\nIn this section you will find some guided sub-steps you may want to consider to complete task B5.\n\nAn investor has gotten in touch and has asked you to consult on what Lead Studio they should invest in, based on audience scores of the top three movie genres. They want to be presented with two options:\n\n    * High risk option: Highest audience scores, regardless of standard error\n    * Low risk option: Least spread in scores, but with highest average possible\n\n- Reopen last week's Rmd file, and continue building on last week's work. Make sure you are still using the movies dataset filtered to only include the top 3 genres.[^share-file]\n\n[^share-file]: Hint: Ask last week's driver for the Rmd file, they should share it with the group via email or Teams. To download the file from the server, go to the RStudio Files pane, tick the box next to the Rmd file, and select More > Export.\n\n- Describe the distribution of the audience scores and note if there are any unusual obersvations (e.g., outliers).[^out-dist]\n\n[^out-dist]: Hint: It would be a good idea to visualise your data to try and identify any outliers in the data. You may want to consider using `geom_density()` or `geom_histogram()`.\n\n- Calculate the sample mean and standard error of the mean [^mean-se]. \n\n    [^mean-se]: Hint: You can calcualte these parameters for a **sample** as follows: \n     * Mean: $\\bar{x}$ (x-bar) or $\\hat{\\mu}$ (mu-hat) is the mean computed from the sample data (sample statistic).\n    * Standard Deviation: The standard error of a statistic, denoted $SE$, is the standard deviation of its sampling distribution. The sample statistic can be denoted as $s$ or $\\hat{\\sigma}$ (sigma-hat), and can be calculated as follows:\n\n\n- Calculate how your estimated sample statistics vary across Lead Studios, and interpret your output[^group-stats].\n\n[^group-stats]: Hint: In order to have sample statistics for each Lead Studio, you will need to summarise your data, and use the `group_by()` function in the process. \n\n- Is the variation of means equal to or less than the variability of the sample data[^se-sd]?\n\n[^se-sd]: Hint: Compare the standard error to the standard deviation. \n\n- Visualise the association between Lead Studios and Audience Scores[^assoc-viz].\n\n[^assoc-viz]: Hint: You can also use the `coord_flip()` function to 'flip' your axes - it might make it easier to read your plot. \n\n- Based on what you have reported above, what high and low risk options will you present to the investor? Justify your answer. \n\n- In the analysis section of your report, write up a summary of what you have reported above, using proper rounding to 2 decimal places and avoiding any reference to R code or functions. \n\n- Organise the Rmd file to have the following structure (click 'Report B Structure' below to expand)\n\n:::{.callout-tip collapse=\"true\"}\n\n### Report B Structure\n\n````\n---\ntitle: \"Formative report B\"\nauthor: \"Group ?.?\"\ndate: \"Write the date here\"\noutput: bookdown::pdf_document2\n---\n````\n\n::: {.column-margin}\nThis is the **metadata** block. It includes the:\n\n- document title\n- author name\n- date (to leave empty, use an empty string `\"\"`)\n- the output type\n\nThe output type could be `html_document`, `pdf_document`, etc.   \nWe use `bookdown::pdf_document2` so that we can reference figures, which `pdf_document` doesn't let you do.  \nThe code `bookdown::pdf_document2` simply means to use the `pdf_document2` type from the `bookdown` package.\n:::\n\n<br><br><br><br><br><br><br><br><br><br><br><br>\n\n````\n```{{r setup, include=FALSE}}\nknitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE)\n```\n````\n\n:::{.column-margin}\nThis is the **setup chunk** and should always be included in your Rmd document. It sets the global options for **all** code chunks that will follow.\n\n- If `echo=TRUE`, the R code in chunks is displayed. If FALSE, not.\n- If `message=TRUE`, information messages are displayed. If FALSE, not.\n- If `warning=TRUE`, warning messages are printed. If FALSE, not.\n\nIf you want to change the setting in a specific code chunk, you can do so via:\n````\n```{{r, echo=FALSE}}\n# A code chunk\n```\n````\n:::\n\n<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>\n\n````\n```{{r, include=FALSE}}\n# week 1 code below\nlibrary(tidyverse)\n\n# week 2 code below\npltEye <- ggplot(starwars, aes(x = eye_color)) + \n    geom_bar()\n\n# week 3 code below\n\n# week 4 code below\n```\n````\n\n:::{.column-margin}\nThis code chunks contains your rough work from each week. Give names to plots and tables, so that you can reference those later on. The option `include=FALSE` hides both code and output.  \nTo run each line of code while you are working, put your cursor on the line and press Control + Enter on Windows or Command + Enter on a macOS.\n:::\n\n\n````\n## Introduction\n\nWrite here an introduction to the data, the variables, and anything worth of notice in the data.\n\n\n## Analysis\n\nPresent here your tables, plots, and results. In the code chunk below, you do \nnot need to put the chunk option `echo=FALSE` as you set this option globally \nin the setup chunk. \n\n```{{r}}\npltEye\n```\n\nIf you didn't set it globally, you would need to put it in the chunk options:\n\n```{{r, echo=FALSE}}\npltEye\n```\n\nMore text...\n\n\n## Discussion\n\nWrite up your take home messages here...\n````\n\n:::{.column-margin}\nThis contains your actual textual reporting, as well as tables and figures. To show in place a plot previously created, just include the plot name in a code chunk with the option `echo = FALSE` to hide the code but display the output.\n:::\n\n\n````\n## Appendix\n\n```{{r, echo=TRUE, results='hide', fig.show='hide'}}\n# copy and paste here all your R code\n\n# week 1 code below\nlibrary(tidyverse)\n\n# week 2 code below\npltEye <- ggplot(starwars, aes(x = eye_color)) + \n    geom_bar()\n\n# week 3 code below\n\n# week 4 code below\n```\n\n````\n\n:::{.column-margin}\nThis allows the marker to see the code you used to obtain your results. Please note that only the code should be visible in the appendix, no output.  \nThe chunk options `echo=TRUE`, `results='hide'`, `fig.show='hide'` ensure that the appendix code is visible (echo=TRUE), the output is hidden (results='hide'), and figures are hidden (fig.show='hide').\n\nThe appendix does not count towards the 4-page limit.\n:::\n\n\n- Knit the document to PDF\n\n- Submit the PDF file on Learn:\n    + Go to the Learn page of the course\n    + Click Assessments on the left-hand side menu\n    + Click Report submission\n    + Click Formative Report B\n    + Follow the instructions\n\n\n:::{.callout-tip collapse=\"true\"}\n### Referencing figures\n\nFirst, you need to pick a **unique** label for the code chunk that displays the figure, in this case `short-label` but you should use a more descriptive name.\n\n````\n```{{r short-label, fig.cap = \"Figure caption\"}}\npltEye <- ggplot(starwars, aes(x = eye_color)) + \n    geom_bar() +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1))\npltEye\n```\n````\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Figure caption](1_11_sampling_files/figure-html/short-label-1.png){width=672}\n:::\n:::\n\n\n```\nTo reference a figure, for example the one above, you would \nwrite see Figure \\@ref(fig:short-label).\n```\n\nwhich, when you Knit to PDF, becomes:\n\nTo reference a figure, for example the one above, you would write see Figure 1.\n:::\n\n\n:::{.callout-tip collapse=\"true\"}\n### Referencing tables\n\nFirst, you need to pick a **unique** label for the code chunk that displays the table, in this case `tbl-short-label` but you should use a more descriptive name.\n\n````\n```{{r tbl-short-label, echo=FALSE}}\nlibrary(kableExtra)\ntblEye <- starwars %>%\n    count(eye_color) %>%\n    kbl(booktabs = TRUE, caption = \"Short table caption\")\ntblEye\n```\n````\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Short table caption</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> eye_color </th>\n   <th style=\"text-align:right;\"> n </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> black </td>\n   <td style=\"text-align:right;\"> 10 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> blue </td>\n   <td style=\"text-align:right;\"> 19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> blue-gray </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> brown </td>\n   <td style=\"text-align:right;\"> 21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> dark </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> gold </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> green, yellow </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> hazel </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> orange </td>\n   <td style=\"text-align:right;\"> 8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> pink </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> red </td>\n   <td style=\"text-align:right;\"> 5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> red, blue </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> unknown </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> white </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> yellow </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n```\nThe table is referenced as, see Table \\@ref(tab:tbl-short-label).\n```\n\nWhich, when you knit to PDF, is displayed as:\n\nThe table is referenced as, see Table 1.\n\nFor details on styling PDF tables, see [this link](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_pdf.pdf).\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n### Reducing figure size\n\nYou could place multiple panels into a single figure using the functions `|` and `/` from the `patchwork` package.\n\nYou could adjust the figure height and width by playing with a few options for the numbers `fig.height = ?` and `fig.width = ?`, for example 5 and 4, or 12 and 8, and so on. Please note this is typically found by trial and error. Keep in mind, however, that the figure labels should still be legible in the plot you show.\n\n````\n```{{r, fig.height = 5, fig.width = 4}}\n# your code to display the figure here\n```\n````\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n### Hiding R code or ouput\n\n:::{.panel-tabset}\n#### Hiding R code\n\nTo not show the code of an R code chunk, and only show the output, write:\n\n````\n```{{r, echo=FALSE}}\n# code goes here\n```\n````\n\n#### Hiding R output\n\nTo show the code of an R code chunk, but hide the output, write:\n\n````\n```{{r, results='hide'}}\n# code goes here\n```\n````\n\nTo hide both text output and figures, use:\n\n````\n```{{r, results='hide', fig.show='hide'}}\n# code goes here\n```\n````\n\n#### Hiding R code and output\n\nTo hide both code and output of an R code chunk, write:\n\n````\n```{{r, include=FALSE}}\n# code goes here\n```\n````\n:::\n:::\n\n:::\n\n\n## Worked Example\n\nThe dataset available at <https://uoepsy.github.io/data/RestaurantTips.csv> was collected by the owner of a US bistro, and contains 157 observations on 7 variables.^[Data adapted from @lock2020.]\n\nThe bistro owners servers are concerned that some shifts are more profitable than others, and that their rota needs to be updated so that they all get the chance to maximise their tips. They have asked the owner to find out what days the highest percentage of tips are given, on average. They have also asked the owner to tell them the days on which variation in percentage tips is highest and lowest. We need to advise the bistro owner so that they can update their servers with the requested information. \n\n\n::: {.cell}\n::: {.cell-output-display}\nVariable Name   Description                                                                 \n--------------  ----------------------------------------------------------------------------\nBill            Size of the bill (in dollars)                                               \nTip             Size of the tip (in dollars)                                                \nCredit          Paid with a credit card? n or y                                             \nGuests          Number of people in the group                                               \nDay             Day of the week: m=Monday, t=Tuesday, w=Wednesday, th=Thursday, or f=Friday \nServer          Code for specific waiter/waitress: A, B, or C                               \nPctTip          Tip as a percentage of the bill\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(patchwork)\ntips <- read_csv(\"https://uoepsy.github.io/data/RestaurantTips.csv\")\nhead(tips)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 7\n   Bill   Tip Credit Guests Day   Server PctTip\n  <dbl> <dbl> <chr>   <dbl> <chr> <chr>   <dbl>\n1  23.7 10    n           2 f     A        42.2\n2  36.1  7    n           3 f     B        19.4\n3  32.0  5.01 y           2 f     A        15.7\n4  17.4  3.61 y           2 f     B        20.8\n5  15.4  3    n           2 f     B        19.5\n6  18.6  2.5  n           2 f     A        13.4\n```\n:::\n:::\n\n\n- First we want to prepare our data, and check for any unusual or impossible values (e.g., outliers). One useful way to do this would be to plot our data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(tips, aes(x = PctTip)) + \n    geom_histogram()\n```\n\n::: {.cell-output-display}\n![](1_11_sampling_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nWe can see one outlier (on the far right of the plot), where the percentage tip appears to be more than 2 x the total bill(!), so lets inspect that outlier:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips %>%\n    filter(PctTip > 100)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 7\n   Bill   Tip Credit Guests Day   Server PctTip\n  <dbl> <dbl> <chr>   <dbl> <chr> <chr>   <dbl>\n1  49.6    NA y           4 th    C         221\n```\n:::\n:::\n\n\nWe can see that the 'Tip' column has an NA value, so perhaps the 'PctTip' value of 221 was a data input error? If so, we want to remove the outlier:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips <- tips %>%\n    filter(PctTip <= 100)\n```\n:::\n\n\n- Since we are interested in looking at the percentage tips across weekdays, we may want to give our 'Day' variable better labels for levels:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips$Day <- factor(tips$Day, \n                   levels = c(\"m\", \"t\", \"w\", \"th\", \"f\"),\n                   labels = c(\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\"))\n```\n:::\n\n\n- If we were asked to describe the shape of the distribution of the 'PctTip' variable, we could use either a histogram or a density plot:\n\n::: {.panel-tabset}\n\n## Histogram\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(tips, aes(x = PctTip)) + \n    geom_histogram()\n```\n\n::: {.cell-output-display}\n![](1_11_sampling_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## Density\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(tips, aes(x = PctTip)) + \n    geom_density()\n```\n\n::: {.cell-output-display}\n![](1_11_sampling_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n:::\n\nAnd say that the percentage tip follows a normal distribution, but it is slightly negatively skewed. This suggested that there were more individuals tipping well above the mean than below (i.e., more extremely high tips)\n\n\n- Now that we have visualised our distribution, it would be useful to estimate the centre and spread of our data. In other words, calculate the sample mean and standard error of the mean. \n\n:::{.callout-tip collapse=\"true\"}\n### Sample Statistics\n\n* Mean: $\\bar{x}$ (x-bar) or $\\hat{\\mu}$ (mu-hat) is the mean computed from the sample data (sample statistic).\n\n* Standard Deviation: The standard error of a statistic, denoted $SE$, is the standard deviation of its sampling distribution. The sample statistic can be denoted as $s$ or $\\hat{\\sigma}$ (sigma-hat), and can be calculated as follows:\n\n\n$$\n\\sigma_{\\bar X} = \\frac{\\sigma}{\\sqrt{n}}\n$$\n\n:::\n\nWe can calculate our sample statistics as follows:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn_tips <- nrow(tips)\nn_tips\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 156\n```\n:::\n\n```{.r .cell-code}\nxbar_tips <- mean(tips$PctTip)\nxbar_tips\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 16.59103\n```\n:::\n\n```{.r .cell-code}\nse_tips <- sd(tips$PctTip) / sqrt(n_tips)\nse_tips\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.3511618\n```\n:::\n:::\n\n\n- We can then check how our sample statistics vary across each day of the week: \n\n\n::: {#tbl-tips-day .cell tbl-cap='Descriptive Statistics for % Tips by Day'}\n\n```{.r .cell-code}\ntbl_tips <- tips %>%\n    group_by(Day) %>% \n    summarise(n = n(),\n              xbar = mean(PctTip),\n              se = sd(PctTip) / sqrt(n)) %>%\n    mutate(xbar = round(xbar, 2),\n           se = round(se, 2)) %>% \n    as.data.frame()\ntbl_tips\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Day  n  xbar   se\n1 Mon 20 15.94 0.72\n2 Tue 13 18.02 2.11\n3 Wed 62 16.55 0.44\n4 Thu 35 16.75 0.57\n5 Fri 26 16.26 1.21\n```\n:::\n:::\n\n\n- If we were asked to interpret the sample statistics for each day, we could summarise as below:\n\n    * Interpreting $\\bar{x}$ / $\\hat{\\mu}$\n        * Of the days of the week, Tuesday was when the highest average percentage tips were received, and Monday the lowest\n        * Apart from Tuesday (when the average percentage tip is likely to be above average), the other days of the week are very close to the average tipping rate (15%)\n\n\n    * Interpreting $s$ / $\\hat{\\sigma}$\n        * The percentage of tips varied most on Tuesdays on Fridays, where tips would either be very generous or measly\n\n- Next we want to visualise the association between days and percentage tip. We can either do this using `ggplot()` or do so manually based on our tibble we created above (`tbl_tips`):\n\n::: {.panel-tabset}\n\n## `ggplot()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplt1 <- ggplot(tips, aes(x = Day, y = PctTip)) + \n    stat_summary(fun.data = function(x) mean_se(x, 2)) +\n    ylim(0, 50)\nplt1\n```\n\n::: {.cell-output-display}\n![% Tips by Day.](1_11_sampling_files/figure-html/fig-tips-day1-1.png){#fig-tips-day1 width=672}\n:::\n:::\n\n\n## Manually \n\n\n::: {.cell}\n\n```{.r .cell-code}\nplt2 <- ggplot(tbl_tips) +\n    geom_pointrange(aes(x = Day, y = xbar,\n                        ymin = xbar - 2 * se,\n                        ymax = xbar + 2 * se)) + \n    ylim(0,50)\nplt2\n```\n\n::: {.cell-output-display}\n![% Tips by Day.](1_11_sampling_files/figure-html/fig-tips-day2-1.png){#fig-tips-day2 width=672}\n:::\n:::\n\n\n:::\n\nWe can then arrange our two plots side by side to see if they match, which they do:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplt1 | plt2\n```\n\n::: {.cell-output-display}\n![](1_11_sampling_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n- How good is the mean, SE when the distribution is skewed?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggridges)\nplt3 <- ggplot(tips, aes(x = PctTip, y = Day)) + \n    geom_density_ridges() +\n    xlim(0, 50)\nplt3\n```\n\n::: {.cell-output-display}\n![](1_11_sampling_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n\n\n\n- We know that the variability of the mean Percentage Tip across each day of the week should be equal to or less than the variability of the sample data. We can check that this is the case:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(kableExtra)\ntips %>%\n    group_by(Day) %>% \n    summarise(n = n(),\n              xbar = mean(PctTip),\n              SD = sd(PctTip),\n              SE = SD / sqrt(n)) %>%\n    mutate(IsSESmaller = SE < SD) %>%\n    kable(digits = 2) %>%\n    kable_styling()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Day </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> xbar </th>\n   <th style=\"text-align:right;\"> SD </th>\n   <th style=\"text-align:right;\"> SE </th>\n   <th style=\"text-align:left;\"> IsSESmaller </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Mon </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 15.94 </td>\n   <td style=\"text-align:right;\"> 3.20 </td>\n   <td style=\"text-align:right;\"> 0.72 </td>\n   <td style=\"text-align:left;\"> TRUE </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Tue </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 18.02 </td>\n   <td style=\"text-align:right;\"> 7.60 </td>\n   <td style=\"text-align:right;\"> 2.11 </td>\n   <td style=\"text-align:left;\"> TRUE </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Wed </td>\n   <td style=\"text-align:right;\"> 62 </td>\n   <td style=\"text-align:right;\"> 16.55 </td>\n   <td style=\"text-align:right;\"> 3.43 </td>\n   <td style=\"text-align:right;\"> 0.44 </td>\n   <td style=\"text-align:left;\"> TRUE </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Thu </td>\n   <td style=\"text-align:right;\"> 35 </td>\n   <td style=\"text-align:right;\"> 16.75 </td>\n   <td style=\"text-align:right;\"> 3.37 </td>\n   <td style=\"text-align:right;\"> 0.57 </td>\n   <td style=\"text-align:left;\"> TRUE </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fri </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 16.26 </td>\n   <td style=\"text-align:right;\"> 6.17 </td>\n   <td style=\"text-align:right;\"> 1.21 </td>\n   <td style=\"text-align:left;\"> TRUE </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nFor each entry in the 'IsSESmaller' column, we can see that it is true!\n\n:::{.callout-tip}\n\n#### Example writeup\n\nThe bistro servers are correct - percentage tips do vary by day (see @tbl-tips-day). These differences are displayed in @fig-tips-day1. \n\nAs displayed above, Tuesdays are when servers received the highest average percentage tips, and Mondays were the lowest. In terms of variability, all days of the week (aside from Tuesday when the percentage of tip is more likely to be above average), are very close to the average tipping rate (15%). \n:::\n\n## Student Glossary\n\nTo conclude the lab, add the new functions to the glossary of `R` functions. \n\n| Function   | Use and package |\n|:-----------|:--------------|\n| `dnorm() `     | ? |\n| `pnorm() `     | ? |\n| `pivot_longer() `     | ? |\n| `seq() `     | ? |\n| `geom_histogram() `     | ? |\n| `geom_density() `     | ? |\n| `geom_line() `     | ? |\n| `after_stat()`      | ? |\n",
    "supporting": [
      "1_11_sampling_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}