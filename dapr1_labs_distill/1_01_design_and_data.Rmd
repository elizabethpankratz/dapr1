---
title: "Research Design & Data"
description: "Semester 1 - Week 1"
---


```{r setup, include=FALSE}
source('assets/setup.R')
```


# Getting started

## Did you register for RStudio Online?

__Try this first:__

1. Log in to EASE https://www.ease.ed.ac.uk/ using your university UUN and password.  
2. _If you haven't done it before:_  
Set your RStudio password here https://rstudio.ppls.ed.ac.uk/setpass.php, the username will be the same as your UUN (make sure you type your UUN correctly).  
3. Access the server from https://rstudio.ppls.ed.ac.uk.


__If that didn't work:__

Fill out [this form](https://forms.office.com/Pages/ResponsePage.aspx?id=sAafLmkWiUWHiRCgaTTcYTstBwJEBklLhOSskzRST95UMTFKQlo5NkdOS0RNRTVXQjZLWloyU1RPQS4u) to be added to the server.


## Lab instructions

- Please work through the lab exercises in a group of 4 or 5 students.
- Open an Rmd file, and start writing your answers in there.
- You will be given some data that you will use throughout the next 5 weeks to produce a data analysis report on those data.  
- In week 5, you will be asked to write up your explorations and produce a report in PDF format, which you will show to tutors in week 6 and receive formative feedback.


# Formative report A

In the first five weeks of the course you should produce a PDF report using Rmarkdown for which you will receive formative feedback in week 6. Throughout those weeks, you will be working with a simulated dataset arising from a lexical decision task.^[
_Data adapted from:_ Nordmann, E., McAleer, P., Toivo, W., Paterson, H. & DeBruine, L. (2022). Data visualisation using R, for researchers who don't use R. Advances in Methods and Practices in Psychological Science. https://doi.org/10.1177/25152459221074654
]


## Data

**Lexical Decision Task**.  One hundred participants were asked to decide whether a presented word was a real word or a non-word. The data include 100 rows (one for each participant) and 7 variables:

```{r, echo=F}
require(tidyverse)
tribble(
    ~'Variable Name', ~'Description',
    '`id`', 'Participant ID',
    '`age`', 'Age',
    '`language`', 'Language group (1 = monolingual, 2 = bilingual)',
    '`rt_word`', 'Reaction time (ms) for word trials',
    '`rt_nonword`', 'Reaction time (ms) for non-word trials',
    '`acc_word`', 'Accuracy for word trials',
    '`acc_nonword`', 'Accuracy for non-word trials'
) %>% 
    knitr::kable()
```

You can download the data from this link: https://uoepsy.github.io/data/ldt_data.csv.


## Tasks

For formative report A, you will be asked to perform the following tasks, each related to a week of teaching in this course:

A1) __Read the data into R and inspect it__  
A2) Display and describe the categorical data  
A3) Display and describe the numerical data  
A4) Display and describe a relationship of interest between two or three variables of your choice

__This week you will only focus on task A1.__ Below there are some guided sub-steps you may want to consider to complete task A1.


## A1 sub-tasks

__Note__: Too see the hints, hover your cursor on the superscript numbers.

- Read the lexical decision task data into R and inspect at the data. By inspect, we literally mean to look at the data in RStudio. You don't need to show the full data in the report.^[
Hint: `View(<dataset name>)` or `head(<dataset name>)`
]

- How many observations are there?^[
Hint: `nrow(<dataset name>)` or `dim(<dataset name>)[1]`
]

- How many variables are there?
^[
Hint: `ncol(<dataset name>)` or `dim(<dataset name>)[2]`
]

`r optbegin("Think about it", FALSE)`
> Think about it: what does `dim(<dataset name>)` return instead? What is the function of appending a `[1]` or `[2]`?
`r optend()`

- What is the type of each variable?^[
Hint: `glimpse(<dataset name>)` from `tidyverse`, or `str(<dataset name>)`, or `sapply(<dataset name>, data.class)`
]

- What's the minimum and maximum age in the sample? What about the average age?^[
Hint: `summary(<data>)`, `min(<data>)`, `max(<data>)`, `mean(<data>)`
]

- Do you notice any issues with the ages? Look at your data and come up with a possible reason why the results are strange.^[
Can age be negative? What may that value indicate?  
Are there a possibly mistyped values?
]

- The `language` variable appears to contain numbers. Do those numbers correspond to an amount or a type? Convert that variable to the appropriate type and provide more descriptive labels.^[
Hint: Sometimes numbers just represent categories and it wouldn't make sense to perform mathematical operations on those labels, e.g. compute a mean. In this particular case 1 = monolingual, 2 = bilingual. The function `factor(<variable>, levels = ..., labels = ...)` lets you specify the current levels and assign each a more informative word label. Remember, you combine different values with the `c()` function, e.g. `c("a", "b")`.
]


# Worked Example

A dataset with 157 observations on the following 7 variables:

- `Bill`: Size of the bill (in dollars)
- `Tip`: Size of the tip (in dollars)
- `Credit`: Paid with a credit card? n or y 
- `Guests`: Number of people in the group
- `Day`: Day of the week: m=Monday, t=Tuesday, w=Wednesday, th=Thursday, or f=Friday
- `Server`: Code for specific waiter/waitress: A, B, or C
- `PctTip`: Tip as a percentage of the bill


```{r}
library(tidyverse)   # we use read_csv and glimpse from tidyverse
```

```{r}
tips <- read_csv("https://www.lock5stat.com/datasets3e/RestaurantTips.csv")
head(tips)
```

```{r}
dim(tips)
```

```{r}
glimpse(tips)   # glimpse is provided by tidyverse
```

`r optbegin("Alternative", olabel = FALSE)`

Alternatives to glimpse:

```{r}
str(tips)
```

or 

```{r}
sapply(tips, data.class)
```
`r optend()`

The data contains measurements for a total of 157 parties on four numeric variables: size of the bill (in dollars), size of the tip, number of guests in the group, and tip as a percentage of the bill. There are also three categorical variables indicating whether or not the party paid with a credit card, the day of the week, as well as a server-specific identifier.

We can replace the labels with the clearer words:

```{r}
tips$Day <- factor(tips$Day, 
                   levels = c("m", "t", "w", "th", "f"),
                   labels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday"))

tips$Credit <- factor(tips$Credit, 
                   levels = c("n", "y"),
                   labels = c("No", "Yes"))

tips$Server <- factor(tips$Server)
```

`r optbegin("Alternative", FALSE)`
```{r}
tips <- tips %>%
    mutate(
        Day = factor(Day,
                     levels = c("m", "t", "w", "th", "f"),
                     labels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday")),
        Credit = factor(Credit,
                        levels = c("n", "y"),
                        labels = c("No", "Yes")),
        Server = factor(Server)
    )
```
`r optend()`

Let's check the result:

```{r}
glimpse(tips)
```

```{r}
summary(tips)
```

We can see that for 157 parties, we don't have information on whether or not they paid by credit card, NA = not available. The same number of missing values appear for the day of the week variable. There is no evidence of incorrectly inputted values or striking values that may suggest an alternative way of specifying missingness.

